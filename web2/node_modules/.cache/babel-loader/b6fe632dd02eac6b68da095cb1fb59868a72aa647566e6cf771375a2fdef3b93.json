{"ast":null,"code":"// src/pages/DashboardPage.js\nimport React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import styled from'styled-components';import Layout from'../components/Layout';import{collection,query,getDocs,orderBy,where}from'firebase/firestore';import{db}from'../firebase';import{Bar}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend}from'chart.js';// Chart.js 등록\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend);// 페이지 구역\nconst Section=styled.section`\n  margin-bottom: ${_ref=>{let{theme}=_ref;return theme.spacing.xl;}};\n`;// 섹션 제목\nconst SectionTitle=styled.h2`\n  font-size: ${_ref2=>{let{theme}=_ref2;return theme.fontSize.heading3;}};\n  color: ${_ref3=>{let{theme}=_ref3;return theme.colors.primary.dark;}};\n  margin-bottom: ${_ref4=>{let{theme}=_ref4;return theme.spacing.lg;}};\n  display: flex;\n  align-items: center;\n  \n  svg {\n    margin-right: ${_ref5=>{let{theme}=_ref5;return theme.spacing.sm;}};\n  }\n`;// 스태틱스틱 카드 그리드\nconst StatsGrid=styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  gap: ${_ref6=>{let{theme}=_ref6;return theme.spacing.lg;}};\n  margin-bottom: ${_ref7=>{let{theme}=_ref7;return theme.spacing.xl;}};\n`;// 스태틱스틱 카드\nconst StatCard=styled.div`\n  background-color: ${_ref8=>{let{theme}=_ref8;return theme.colors.neutral.white;}};\n  border-radius: ${_ref9=>{let{theme}=_ref9;return theme.borderRadius.medium;}};\n  box-shadow: ${_ref10=>{let{theme}=_ref10;return theme.shadows.medium;}};\n  padding: ${_ref11=>{let{theme}=_ref11;return theme.spacing.lg;}};\n  display: flex;\n  flex-direction: column;\n  transition: transform ${_ref12=>{let{theme}=_ref12;return theme.animation.normal;}} ease, \n              box-shadow ${_ref13=>{let{theme}=_ref13;return theme.animation.normal;}} ease;\n  \n  &:hover {\n    transform: translateY(-5px);\n    box-shadow: ${_ref14=>{let{theme}=_ref14;return theme.shadows.large;}};\n  }\n`;// 카드 아이콘\nconst CardIcon=styled.div`\n  width: 48px;\n  height: 48px;\n  border-radius: ${_ref15=>{let{theme}=_ref15;return theme.borderRadius.round;}};\n  background-color: ${_ref16=>{let{theme,bgColor}=_ref16;return bgColor||theme.colors.primary.light;}};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: ${_ref17=>{let{theme}=_ref17;return theme.spacing.md;}};\n  \n  svg {\n    color: ${_ref18=>{let{theme,iconColor}=_ref18;return iconColor||theme.colors.primary.main;}};\n    font-size: 24px;\n  }\n`;// 카드 제목\nconst CardTitle=styled.h3`\n  font-size: ${_ref19=>{let{theme}=_ref19;return theme.fontSize.sm;}};\n  color: ${_ref20=>{let{theme}=_ref20;return theme.colors.neutral.darkGrey;}};\n  margin-bottom: ${_ref21=>{let{theme}=_ref21;return theme.spacing.xs;}};\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n`;// 카드 값\nconst CardValue=styled.div`\n  font-size: ${_ref22=>{let{theme}=_ref22;return theme.fontSize.xxl;}};\n  font-weight: 700;\n  color: ${_ref23=>{let{theme,color}=_ref23;return color||theme.colors.primary.dark;}};\n  margin-bottom: ${_ref24=>{let{theme}=_ref24;return theme.spacing.xs;}};\n`;// 추가 정보\nconst CardInfo=styled.div`\n  font-size: ${_ref25=>{let{theme}=_ref25;return theme.fontSize.sm;}};\n  color: ${_ref26=>{let{theme,isPositive}=_ref26;return isPositive?theme.colors.functional.success:isPositive===false?theme.colors.functional.error:theme.colors.neutral.grey;}};\n  display: flex;\n  align-items: center;\n  \n  svg {\n    margin-right: ${_ref27=>{let{theme}=_ref27;return theme.spacing.xs;}};\n  }\n`;// 2열 레이아웃\nconst TwoColumnLayout=styled.div`\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  gap: ${_ref28=>{let{theme}=_ref28;return theme.spacing.lg;}};\n  \n  @media (max-width: ${_ref29=>{let{theme}=_ref29;return theme.breakpoints.lg;}}) {\n    grid-template-columns: 1fr;\n  }\n`;// 환자 테이블 카드\nconst TableCard=styled.div`\n  background-color: ${_ref30=>{let{theme}=_ref30;return theme.colors.neutral.white;}};\n  border-radius: ${_ref31=>{let{theme}=_ref31;return theme.borderRadius.medium;}};\n  box-shadow: ${_ref32=>{let{theme}=_ref32;return theme.shadows.medium;}};\n  overflow: hidden;\n`;// 카드 헤더\nconst CardHeader=styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: ${_ref33=>{let{theme}=_ref33;return theme.spacing.lg;}};\n  border-bottom: 1px solid ${_ref34=>{let{theme}=_ref34;return theme.colors.neutral.lightGrey;}};\n`;// 카드 콘텐츠\nconst CardContent=styled.div`\n  padding: ${_ref35=>{let{theme}=_ref35;return theme.spacing.lg;}};\n`;// 필터 바\nconst FilterBar=styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: ${_ref36=>{let{theme}=_ref36;return theme.spacing.md;}};\n  margin-bottom: ${_ref37=>{let{theme}=_ref37;return theme.spacing.lg;}};\n`;// 필터 그룹\nconst FilterGroup=styled.div`\n  display: flex;\n  align-items: center;\n`;// 필터 라벨\nconst FilterLabel=styled.label`\n  margin-right: ${_ref38=>{let{theme}=_ref38;return theme.spacing.xs;}};\n  font-weight: 500;\n  color: ${_ref39=>{let{theme}=_ref39;return theme.colors.neutral.darkGrey;}};\n  font-size: ${_ref40=>{let{theme}=_ref40;return theme.fontSize.sm;}};\n`;// 필터 선택\nconst FilterSelect=styled.select`\n  padding: ${_ref41=>{let{theme}=_ref41;return`${theme.spacing.xs} ${theme.spacing.sm}`;}};\n  border: 1px solid ${_ref42=>{let{theme}=_ref42;return theme.colors.neutral.lightGrey;}};\n  border-radius: ${_ref43=>{let{theme}=_ref43;return theme.borderRadius.small;}};\n  background-color: ${_ref44=>{let{theme}=_ref44;return theme.colors.neutral.white;}};\n  font-size: ${_ref45=>{let{theme}=_ref45;return theme.fontSize.sm;}};\n  \n  &:focus {\n    border-color: ${_ref46=>{let{theme}=_ref46;return theme.colors.primary.main;}};\n    outline: none;\n    box-shadow: ${_ref47=>{let{theme}=_ref47;return theme.shadows.focused;}};\n  }\n`;// 검색 입력\nconst SearchInput=styled.input`\n  padding: ${_ref48=>{let{theme}=_ref48;return`${theme.spacing.xs} ${theme.spacing.sm}`;}};\n  border: 1px solid ${_ref49=>{let{theme}=_ref49;return theme.colors.neutral.lightGrey;}};\n  border-radius: ${_ref50=>{let{theme}=_ref50;return theme.borderRadius.small;}};\n  margin-left: auto;\n  width: 250px;\n  font-size: ${_ref51=>{let{theme}=_ref51;return theme.fontSize.sm;}};\n  \n  &:focus {\n    border-color: ${_ref52=>{let{theme}=_ref52;return theme.colors.primary.main;}};\n    outline: none;\n    box-shadow: ${_ref53=>{let{theme}=_ref53;return theme.shadows.focused;}};\n  }\n  \n  @media (max-width: ${_ref54=>{let{theme}=_ref54;return theme.breakpoints.md;}}) {\n    width: 100%;\n    margin-left: 0;\n  }\n`;// 환자 테이블\nconst PatientTable=styled.table`\n  width: 100%;\n  border-collapse: collapse;\n`;// 테이블 헤더\nconst TableHeader=styled.thead`\n  background-color: ${_ref55=>{let{theme}=_ref55;return theme.colors.neutral.lighterGrey;}};\n`;// 헤더 셀\nconst HeaderCell=styled.th`\n  text-align: left;\n  padding: ${_ref56=>{let{theme}=_ref56;return theme.spacing.md;}};\n  font-weight: 600;\n  color: ${_ref57=>{let{theme}=_ref57;return theme.colors.neutral.darkGrey;}};\n  font-size: ${_ref58=>{let{theme}=_ref58;return theme.fontSize.sm;}};\n`;// 테이블 바디\nconst TableBody=styled.tbody``;// 테이블 행\nconst TableRow=styled.tr`\n  border-bottom: 1px solid ${_ref59=>{let{theme}=_ref59;return theme.colors.neutral.lightGrey;}};\n  transition: background-color ${_ref60=>{let{theme}=_ref60;return theme.animation.normal;}} ease;\n  \n  &:hover {\n    background-color: ${_ref61=>{let{theme}=_ref61;return theme.colors.neutral.lighterGrey;}};\n  }\n`;// 테이블 셀\nconst TableCell=styled.td`\n  padding: ${_ref62=>{let{theme}=_ref62;return theme.spacing.md;}};\n  color: ${_ref63=>{let{theme}=_ref63;return theme.colors.neutral.text;}};\n  font-size: ${_ref64=>{let{theme}=_ref64;return theme.fontSize.sm;}};\n`;// 링크 스타일\nconst StyledLink=styled(Link)`\n  color: ${_ref65=>{let{theme}=_ref65;return theme.colors.primary.main;}};\n  text-decoration: none;\n  font-weight: 500;\n  \n  &:hover {\n    text-decoration: underline;\n    color: ${_ref66=>{let{theme}=_ref66;return theme.colors.primary.dark;}};\n  }\n`;// 배지\nconst Badge=styled.span`\n  display: inline-block;\n  padding: ${_ref67=>{let{theme}=_ref67;return`${theme.spacing.xs} ${theme.spacing.sm}`;}};\n  border-radius: ${_ref68=>{let{theme}=_ref68;return theme.borderRadius.round;}};\n  font-size: ${_ref69=>{let{theme}=_ref69;return theme.fontSize.xs;}};\n  font-weight: 700;\n  background-color: ${_ref70=>{let{theme,type}=_ref70;if(type==='high')return theme.colors.functional.error;if(type==='medium')return theme.colors.functional.warning;return theme.colors.functional.success;}};\n  color: white;\n`;// 차트 카드\nconst ChartCard=styled.div`\n  background-color: ${_ref71=>{let{theme}=_ref71;return theme.colors.neutral.white;}};\n  border-radius: ${_ref72=>{let{theme}=_ref72;return theme.borderRadius.medium;}};\n  box-shadow: ${_ref73=>{let{theme}=_ref73;return theme.shadows.medium;}};\n  padding: ${_ref74=>{let{theme}=_ref74;return theme.spacing.lg;}};\n  height: 100%;\n`;// 차트 컨테이너\nconst ChartContainer=styled.div`\n  height: 250px;\n  margin-top: ${_ref75=>{let{theme}=_ref75;return theme.spacing.lg;}};\n`;// 최근 활동 카드\nconst ActivityCard=styled.div`\n  background-color: ${_ref76=>{let{theme}=_ref76;return theme.colors.neutral.white;}};\n  border-radius: ${_ref77=>{let{theme}=_ref77;return theme.borderRadius.medium;}};\n  box-shadow: ${_ref78=>{let{theme}=_ref78;return theme.shadows.medium;}};\n  overflow: hidden;\n`;// 활동 목록\nconst ActivityList=styled.div`\n  max-height: 400px;\n  overflow-y: auto;\n`;// 활동 아이템\nconst ActivityItem=styled.div`\n  padding: ${_ref79=>{let{theme}=_ref79;return theme.spacing.md;}};\n  border-bottom: 1px solid ${_ref80=>{let{theme}=_ref80;return theme.colors.neutral.lightGrey;}};\n  display: flex;\n  align-items: flex-start;\n  \n  &:last-child {\n    border-bottom: none;\n  }\n`;// 활동 아이콘\nconst ActivityIcon=styled.div`\n  width: 36px;\n  height: 36px;\n  border-radius: ${_ref81=>{let{theme}=_ref81;return theme.borderRadius.round;}};\n  background-color: ${_ref82=>{let{theme,type}=_ref82;if(type==='request')return theme.colors.primary.light;if(type==='completed')return theme.colors.functional.success+'20';return theme.colors.neutral.lightGrey;}};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: ${_ref83=>{let{theme}=_ref83;return theme.spacing.md;}};\n  \n  svg {\n    color: ${_ref84=>{let{theme,type}=_ref84;if(type==='request')return theme.colors.primary.main;if(type==='completed')return theme.colors.functional.success;return theme.colors.neutral.darkGrey;}};\n  }\n`;// 활동 내용\nconst ActivityContent=styled.div`\n  flex: 1;\n`;// 활동 제목\nconst ActivityTitle=styled.div`\n  font-weight: 500;\n  margin-bottom: ${_ref85=>{let{theme}=_ref85;return theme.spacing.xs;}};\n  color: ${_ref86=>{let{theme}=_ref86;return theme.colors.neutral.black;}};\n`;// 활동 메타 정보\nconst ActivityMeta=styled.div`\n  display: flex;\n  justify-content: space-between;\n  font-size: ${_ref87=>{let{theme}=_ref87;return theme.fontSize.xs;}};\n  color: ${_ref88=>{let{theme}=_ref88;return theme.colors.neutral.grey;}};\n`;// 상담 요청 상태를 한글로 변환\nconst getRequestStatusText=status=>{const statuses={'pending':'대기 중','accepted':'예약 확정','completed':'완료','cancelled':'취소됨'};return statuses[status]||'알 수 없음';};// 영역별 평균 및 표준편차 정보\nconst domainStats={physical:{mean:3.09,sd:0.95},selfcare:{mean:3.63,sd:0.76},support:{mean:3.84,sd:0.94},psychological:{mean:3.08,sd:0.91},social:{mean:3.39,sd:1.20},resilience:{mean:4.28,sd:0.72}};// 생년월일을 연-월-일 형식으로 포맷하는 함수\nconst formatBirthDate=birthDate=>{if(!birthDate)return'정보 없음';// 이미 포맷된 문자열인 경우 (YYYY-MM-DD)\nif(typeof birthDate==='string'&&birthDate.includes('-')){return birthDate;}// Date 객체인 경우\nif(birthDate instanceof Date){return birthDate.toISOString().split('T')[0];}// Firestore Timestamp인 경우\nif(birthDate&&typeof birthDate.toDate==='function'){return birthDate.toDate().toISOString().split('T')[0];}return'정보 없음';};function DashboardPage(){const[patients,setPatients]=useState([]);const[filteredPatients,setFilteredPatients]=useState([]);const[recentActivities,setRecentActivities]=useState([]);const[statsData,setStatsData]=useState({totalPatients:0,newPatients:0,pendingRequests:0,highRiskPatients:0});const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[filters,setFilters]=useState({riskLevel:'all',cancerType:'all',treatmentStatus:'all',searchTerm:''});// 페이지네이션 상태 추가\nconst[currentPage,setCurrentPage]=useState(1);const patientsPerPage=5;// 한 페이지당 5명의 환자만 표시\n// 환자 데이터 불러오기\nuseEffect(()=>{const fetchData=async()=>{try{// users 컬렉션에서 환자 데이터 불러오기\nconst usersSnapshot=await getDocs(collection(db,\"users\"));const patientsData=[];let totalPatients=0;let highRiskPatients=0;// 한 달 전 날짜\nconst oneMonthAgo=new Date();oneMonthAgo.setMonth(oneMonthAgo.getMonth()-1);let newPatients=0;usersSnapshot.forEach(doc=>{const userData=doc.data();// 유저 데이터가 있는 경우만 추가\nif(userData){var _userData$createdAt,_userData$createdAt$t;const patient={id:doc.id,name:userData.name||'익명',age:userData.age||'',gender:userData.gender||'',cancerType:userData.cancerType||'',currentTreatment:userData.currentTreatment||'',diagnosisDate:userData.diagnosisDate||'',birthDate:userData.birthDate||'',mentalHealthHistory:userData.mentalHealthHistory||'',physicalLimitations:userData.physicalLimitations||'',treatmentTypes:userData.treatmentTypes||[],otherCancerType:userData.otherCancerType||'',otherTreatmentType:userData.otherTreatmentType||'',createdAt:((_userData$createdAt=userData.createdAt)===null||_userData$createdAt===void 0?void 0:(_userData$createdAt$t=_userData$createdAt.toDate)===null||_userData$createdAt$t===void 0?void 0:_userData$createdAt$t.call(_userData$createdAt))||new Date()};// 위험도 계산 - newScore 기반\nlet riskLevel='low';// 기본값\nlet averageNewScore=0;// 설문 데이터가 있는 경우에만 newScore 기반 위험도 계산\nif(userData.answers){// 모든 카테고리의 평균 newScore 계산을 위한 준비\nconst categoryQuestions={physical:[1,2,3,4,5,6,7,8],selfcare:[9,10,11,12,13],support:[14,15,16,17],psychological:[18,19,20,21,22,23,24,25],social:[26,27,28],resilience:[29,30,31]};// 각 카테고리별 newScore 계산\nlet totalNewScore=0;let categoriesWithScores=0;Object.entries(categoryQuestions).forEach(_ref89=>{let[category,questions]=_ref89;let totalScore=0;let answeredQuestions=0;questions.forEach(questionNum=>{const answerKey=`q${questionNum}`;if(userData.answers[answerKey]){// 역코딩이 필요한 문항 처리 (일부 질문은 점수가 높을수록 부정적)\nconst needsReverseScoring=[1,2,3,4,5,6,7,8,18,19,20,21,22,23,24,25,26,27,28];const score=parseInt(userData.answers[answerKey]);if(needsReverseScoring.includes(questionNum)){// 역코딩 (1->5, 2->4, 3->3, 4->2, 5->1)\ntotalScore+=6-score;}else{totalScore+=score;}answeredQuestions++;}});// 5점 척도 평균 점수\nconst scaleScore=answeredQuestions>0?totalScore/answeredQuestions:0;// NewScore 계산 (Z 점수 기반)\nif(answeredQuestions>0&&domainStats[category]){// Z 점수 계산\nconst zScore=(scaleScore-domainStats[category].mean)/domainStats[category].sd;// NewScore 계산: (Z점수 * 16.67) + 50\nconst newScore=Math.round(zScore*16.67+50);totalNewScore+=newScore;categoriesWithScores++;}});// 전체 평균 newScore 계산\naverageNewScore=categoriesWithScores>0?totalNewScore/categoriesWithScores:0;// 평균 newScore 기준으로 위험도 결정\nif(averageNewScore<40){riskLevel='high';// 40점 미만은 위험\nhighRiskPatients++;}else if(averageNewScore<50){riskLevel='medium';// 40~49점은 주의\n}else{riskLevel='low';// 50점 이상은 양호호\n}}else{// 설문 데이터가 없는 경우 기존 로직으로 대체\nif(userData.mentalHealthHistory&&userData.mentalHealthHistory!==\"아니오\"){riskLevel='high';highRiskPatients++;}else if(userData.physicalLimitations){riskLevel='medium';}}// 신규 환자 판별\nif(patient.createdAt>oneMonthAgo){newPatients++;}patientsData.push({...patient,riskLevel,averageNewScore});totalPatients++;}});// 상담 요청 데이터 불러오기\nconst counselingSnapshot=await getDocs(query(collection(db,\"counselingRequests\"),where(\"status\",\"==\",\"pending\")));// 최근 활동 데이터 불러오기\nconst activitiesQuery=query(collection(db,\"counselingRequests\"),orderBy(\"createdAt\",\"desc\"));const activitiesSnapshot=await getDocs(activitiesQuery);const activitiesData=[];activitiesSnapshot.forEach(doc=>{var _doc$data$createdAt;const activity={id:doc.id,...doc.data(),createdAt:((_doc$data$createdAt=doc.data().createdAt)===null||_doc$data$createdAt===void 0?void 0:_doc$data$createdAt.toDate())||new Date()};activitiesData.push(activity);});setPatients(patientsData);setFilteredPatients(patientsData);setRecentActivities(activitiesData.slice(0,5));setStatsData({totalPatients,newPatients,pendingRequests:counselingSnapshot.size,highRiskPatients});setLoading(false);}catch(error){console.error(\"데이터 불러오기 오류:\",error);setError(\"데이터를 불러오는 중 오류가 발생했습니다.\");setLoading(false);}};fetchData();},[]);// 필터링 로직\nuseEffect(()=>{let filtered=[...patients];// 위험도 필터\nif(filters.riskLevel!=='all'){filtered=filtered.filter(patient=>patient.riskLevel===filters.riskLevel);}// 암 종류 필터 - 이제 한글 값을 직접 비교\nif(filters.cancerType!=='all'){filtered=filtered.filter(patient=>{// 한글 암 종류로 직접 비교\nif(filters.cancerType==='breast')return patient.cancerType==='유방암';if(filters.cancerType==='colorectal')return patient.cancerType==='대장암';if(filters.cancerType==='lung')return patient.cancerType==='폐암';if(filters.cancerType==='gastric')return patient.cancerType==='위암';if(filters.cancerType==='liver')return patient.cancerType==='간암';if(filters.cancerType==='thyroid')return patient.cancerType==='갑상선암';if(filters.cancerType==='prostate')return patient.cancerType==='전립선암';// 기타 또는 기타암 처리\nreturn patient.cancerType==='기타'||patient.cancerType==='기타암';});}// 치료 상태 필터 - 한글 값 직접 비교\nif(filters.treatmentStatus!=='all'){filtered=filtered.filter(patient=>{// 치료 상태 한글값으로 직접 비교\nif(filters.treatmentStatus==='ongoing')return patient.currentTreatment.includes('치료 중');if(filters.treatmentStatus==='completed')return patient.currentTreatment.includes('치료 완료');if(filters.treatmentStatus==='recurrence')return patient.currentTreatment.includes('재발');return patient.currentTreatment.includes('경과 확인');});}// 검색어 필터\nif(filters.searchTerm){const term=filters.searchTerm.toLowerCase();filtered=filtered.filter(patient=>patient.name&&patient.name.toLowerCase().includes(term)||`${patient.id}`.includes(term));}setFilteredPatients(filtered);// 필터링이 변경될 때마다 첫 번째 페이지로 리셋\nsetCurrentPage(1);},[filters,patients]);// 필터 변경 핸들러\nconst handleFilterChange=e=>{const{name,value}=e.target;setFilters(prev=>({...prev,[name]:value}));};// 암 종류별 환자 수 차트 데이터 - 한글 데이터 사용\nconst cancerTypeData={labels:['유방암','대장암','폐암','위암','간암','갑상선암','전립선암','기타'],datasets:[{label:'환자 수',data:[patients.filter(p=>p.cancerType==='유방암').length,patients.filter(p=>p.cancerType==='대장암').length,patients.filter(p=>p.cancerType==='폐암').length,patients.filter(p=>p.cancerType==='위암').length,patients.filter(p=>p.cancerType==='간암').length,patients.filter(p=>p.cancerType==='갑상선암').length,patients.filter(p=>p.cancerType==='전립선암').length,patients.filter(p=>p.cancerType==='기타'||p.cancerType==='기타암').length],backgroundColor:['#4e73df','#1cc88a','#36b9cc','#f6c23e','#e74a3b','#5a5c69','#6f42c1','#fd7e14']}]};return/*#__PURE__*/_jsxs(Layout,{title:\"\\uB300\\uC2DC\\uBCF4\\uB4DC\",children:[/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsxs(SectionTitle,{children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"9 22 9 12 15 12 15 22\"})]}),\"\\uD658\\uC790 \\uD604\\uD669\"]}),/*#__PURE__*/_jsxs(StatsGrid,{children:[/*#__PURE__*/_jsxs(StatCard,{children:[/*#__PURE__*/_jsx(CardIcon,{bgColor:\"#E3F2FD\",children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"9\",cy:\"7\",r:\"4\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M23 21v-2a4 4 0 0 0-3-3.87\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M16 3.13a4 4 0 0 1 0 7.75\"})]})}),/*#__PURE__*/_jsx(CardTitle,{children:\"\\uCD1D \\uD658\\uC790 \\uC218\"}),/*#__PURE__*/_jsx(CardValue,{children:statsData.totalPatients}),/*#__PURE__*/_jsxs(CardInfo,{isPositive:true,children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:/*#__PURE__*/_jsx(\"polyline\",{points:\"18 15 12 9 6 15\"})}),statsData.newPatients,\" \\uC2E0\\uADDC \\uD658\\uC790\"]})]}),/*#__PURE__*/_jsxs(StatCard,{children:[/*#__PURE__*/_jsx(CardIcon,{bgColor:\"#E8F5E9\",iconColor:\"#388E3C\",children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M22 11.08V12a10 10 0 1 1-5.93-9.14\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"22 4 12 14.01 9 11.01\"})]})}),/*#__PURE__*/_jsx(CardTitle,{children:\"\\uC644\\uB8CC\\uB41C \\uC124\\uBB38\"}),/*#__PURE__*/_jsx(CardValue,{color:\"#388E3C\",children:patients.length}),/*#__PURE__*/_jsxs(CardInfo,{children:[statsData.totalPatients>0?Math.round(patients.length/statsData.totalPatients*100):0,\"% \\uC644\\uB8CC\\uC728\"]})]}),/*#__PURE__*/_jsxs(StatCard,{children:[/*#__PURE__*/_jsx(CardIcon,{bgColor:\"#FFF3E0\",iconColor:\"#F57C00\",children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"22,6 12,13 2,6\"})]})}),/*#__PURE__*/_jsx(CardTitle,{children:\"\\uC0C1\\uB2F4 \\uC694\\uCCAD\"}),/*#__PURE__*/_jsx(CardValue,{color:\"#F57C00\",children:statsData.pendingRequests}),/*#__PURE__*/_jsx(CardInfo,{children:\"\\uB300\\uAE30 \\uC911\"})]}),/*#__PURE__*/_jsxs(StatCard,{children:[/*#__PURE__*/_jsx(CardIcon,{bgColor:\"#FFEBEE\",iconColor:\"#D32F2F\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M22 12h-4l-3 9L9 3l-3 9H2\"})})}),/*#__PURE__*/_jsx(CardTitle,{children:\"\\uC704\\uD5D8\\uAD70 \\uD658\\uC790\"}),/*#__PURE__*/_jsx(CardValue,{color:\"#D32F2F\",children:statsData.highRiskPatients}),/*#__PURE__*/_jsxs(CardInfo,{isPositive:false,children:[statsData.totalPatients>0?Math.round(statsData.highRiskPatients/statsData.totalPatients*100):0,\"% \\uBE44\\uC728\"]})]})]})]}),/*#__PURE__*/_jsxs(TwoColumnLayout,{children:[/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsxs(SectionTitle,{children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"8\",y:\"2\",width:\"8\",height:\"4\",rx:\"1\",ry:\"1\"})]}),\"\\uD658\\uC790 \\uBAA9\\uB85D\"]}),/*#__PURE__*/_jsxs(TableCard,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(FilterBar,{children:[/*#__PURE__*/_jsxs(FilterGroup,{children:[/*#__PURE__*/_jsx(FilterLabel,{htmlFor:\"riskLevel\",children:\"\\uC704\\uD5D8\\uB3C4:\"}),/*#__PURE__*/_jsxs(FilterSelect,{id:\"riskLevel\",name:\"riskLevel\",value:filters.riskLevel,onChange:handleFilterChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"\\uC804\\uCCB4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"\\uC704\\uD5D8\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"\\uC8FC\\uC758\"}),/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"\\uC591\\uD638\"})]})]}),/*#__PURE__*/_jsxs(FilterGroup,{children:[/*#__PURE__*/_jsx(FilterLabel,{htmlFor:\"cancerType\",children:\"\\uC554 \\uC885\\uB958:\"}),/*#__PURE__*/_jsxs(FilterSelect,{id:\"cancerType\",name:\"cancerType\",value:filters.cancerType,onChange:handleFilterChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"\\uC804\\uCCB4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"breast\",children:\"\\uC720\\uBC29\\uC554\"}),/*#__PURE__*/_jsx(\"option\",{value:\"colorectal\",children:\"\\uB300\\uC7A5\\uC554\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lung\",children:\"\\uD3D0\\uC554\"}),/*#__PURE__*/_jsx(\"option\",{value:\"gastric\",children:\"\\uC704\\uC554\"}),/*#__PURE__*/_jsx(\"option\",{value:\"liver\",children:\"\\uAC04\\uC554\"}),/*#__PURE__*/_jsx(\"option\",{value:\"thyroid\",children:\"\\uAC11\\uC0C1\\uC120\\uC554\"}),/*#__PURE__*/_jsx(\"option\",{value:\"prostate\",children:\"\\uC804\\uB9BD\\uC120\\uC554\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"\\uAE30\\uD0C0\"})]})]}),/*#__PURE__*/_jsxs(FilterGroup,{children:[/*#__PURE__*/_jsx(FilterLabel,{htmlFor:\"treatmentStatus\",children:\"\\uCE58\\uB8CC \\uC0C1\\uD0DC:\"}),/*#__PURE__*/_jsxs(FilterSelect,{id:\"treatmentStatus\",name:\"treatmentStatus\",value:filters.treatmentStatus,onChange:handleFilterChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"\\uC804\\uCCB4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ongoing\",children:\"\\uCE58\\uB8CC \\uC911\"}),/*#__PURE__*/_jsx(\"option\",{value:\"completed\",children:\"\\uCE58\\uB8CC \\uC644\\uB8CC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"recurrence\",children:\"\\uC7AC\\uBC1C/\\uCD94\\uAC00 \\uCE58\\uB8CC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"maintenance\",children:\"\\uACBD\\uACFC \\uD655\\uC778 \\uC911\"})]})]}),/*#__PURE__*/_jsx(SearchInput,{type:\"text\",name:\"searchTerm\",value:filters.searchTerm,onChange:handleFilterChange,placeholder:\"\\uD658\\uC790 \\uC774\\uB984 \\uAC80\\uC0C9...\"})]})}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(PatientTable,{children:[/*#__PURE__*/_jsx(TableHeader,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(HeaderCell,{children:\"ID\"}),/*#__PURE__*/_jsx(HeaderCell,{children:\"\\uC774\\uB984\"}),/*#__PURE__*/_jsx(HeaderCell,{children:\"\\uC554 \\uC885\\uB958\"}),/*#__PURE__*/_jsx(HeaderCell,{children:\"\\uC0DD\\uB144\\uC6D4\\uC77C\"}),/*#__PURE__*/_jsx(HeaderCell,{children:\"\\uC9C4\\uB2E8 \\uC2DC\\uAE30\"}),/*#__PURE__*/_jsx(HeaderCell,{children:\"\\uC704\\uD5D8\\uB3C4\"}),/*#__PURE__*/_jsx(HeaderCell,{children:\"\\uC0C1\\uB2F4 \\uAE30\\uB85D\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:filteredPatients.length===0?/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{colSpan:\"7\",style:{textAlign:'center'},children:loading?'데이터를 불러오는 중...':'환자 데이터가 없습니다.'})}):// 현재 페이지에 해당하는 환자만 표시 (5명씩)\nfilteredPatients.slice((currentPage-1)*patientsPerPage,currentPage*patientsPerPage).map(patient=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsxs(TableCell,{children:[patient.id.substring(0,8),\"...\"]}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(StyledLink,{to:`/patients/${patient.id}`,children:patient.name||'익명'})}),/*#__PURE__*/_jsx(TableCell,{children:patient.cancerType}),/*#__PURE__*/_jsx(TableCell,{children:formatBirthDate(patient.birthDate)}),/*#__PURE__*/_jsx(TableCell,{children:patient.diagnosisDate||'정보 없음'}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Badge,{type:patient.riskLevel,children:patient.riskLevel==='high'?'위험':patient.riskLevel==='medium'?'주의':'양호'})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(StyledLink,{to:`/patients/${patient.id}?tab=counseling`,children:\"\\uC0C1\\uC138 \\uBCF4\\uAE30\"})})]},patient.id))})]}),filteredPatients.length>patientsPerPage&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',padding:'1rem',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(prev=>Math.max(prev-1,1)),disabled:currentPage===1,style:{padding:'0.5rem 1rem',borderRadius:'4px',border:'1px solid #dee2e6',background:currentPage===1?'#f8f9fa':'white',cursor:currentPage===1?'not-allowed':'pointer',color:currentPage===1?'#adb5bd':'#2a5e8c'},children:\"\\uC774\\uC804\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'0.5rem'},children:[...Array(Math.ceil(filteredPatients.length/patientsPerPage))].map((_,i)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(i+1),style:{padding:'0.5rem 1rem',borderRadius:'4px',border:'1px solid #dee2e6',background:currentPage===i+1?'#2a5e8c':'white',color:currentPage===i+1?'white':'#212529',cursor:'pointer'},children:i+1},i+1))}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(prev=>Math.min(prev+1,Math.ceil(filteredPatients.length/patientsPerPage))),disabled:currentPage===Math.ceil(filteredPatients.length/patientsPerPage),style:{padding:'0.5rem 1rem',borderRadius:'4px',border:'1px solid #dee2e6',background:currentPage===Math.ceil(filteredPatients.length/patientsPerPage)?'#f8f9fa':'white',cursor:currentPage===Math.ceil(filteredPatients.length/patientsPerPage)?'not-allowed':'pointer',color:currentPage===Math.ceil(filteredPatients.length/patientsPerPage)?'#adb5bd':'#2a5e8c'},children:\"\\uB2E4\\uC74C\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsxs(SectionTitle,{children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:/*#__PURE__*/_jsx(\"polyline\",{points:\"22 12 18 12 15 21 9 3 6 12 2 12\"})}),\"\\uC554 \\uC885\\uB958\\uBCC4 \\uD1B5\\uACC4\"]}),/*#__PURE__*/_jsx(ChartCard,{children:/*#__PURE__*/_jsx(ChartContainer,{children:/*#__PURE__*/_jsx(Bar,{data:cancerTypeData,options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}}}})})})]}),/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsxs(SectionTitle,{children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"12 6 12 12 16 14\"})]}),\"\\uCD5C\\uADFC \\uD65C\\uB3D9\"]}),/*#__PURE__*/_jsxs(ActivityCard,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,fontSize:'1rem'},children:\"\\uCD5C\\uADFC \\uC0C1\\uB2F4 \\uC694\\uCCAD\"})}),/*#__PURE__*/_jsx(ActivityList,{children:recentActivities.length===0?/*#__PURE__*/_jsx(\"div\",{style:{padding:'1.5rem',textAlign:'center'},children:\"\\uCD5C\\uADFC \\uD65C\\uB3D9\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}):recentActivities.map(activity=>/*#__PURE__*/_jsxs(ActivityItem,{children:[/*#__PURE__*/_jsx(ActivityIcon,{type:activity.status,children:activity.status==='pending'?/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"20\",height:\"20\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"polyline\",{points:\"22 12 16 12 14 15 10 15 8 12 2 12\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z\"})]}):activity.status==='completed'?/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"20\",height:\"20\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M22 11.08V12a10 10 0 1 1-5.93-9.14\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"22 4 12 14.01 9 11.01\"})]}):/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"20\",height:\"20\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"10\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"8\",x2:\"12\",y2:\"12\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"16\",x2:\"12.01\",y2:\"16\"})]})}),/*#__PURE__*/_jsxs(ActivityContent,{children:[/*#__PURE__*/_jsxs(ActivityTitle,{children:[activity.name||'익명',\" \\uB2D8\\uC774 \\uC0C1\\uB2F4\\uC744 \\uC694\\uCCAD\\uD588\\uC2B5\\uB2C8\\uB2E4.\"]}),/*#__PURE__*/_jsxs(ActivityMeta,{children:[/*#__PURE__*/_jsxs(\"span\",{children:[activity.createdAt.toLocaleDateString(),\" \",activity.createdAt.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})]}),/*#__PURE__*/_jsx(StyledLink,{to:`/counseling-record/${activity.id}`,children:\"\\uC0C1\\uC138\\uBCF4\\uAE30\"})]})]})]},activity.id))})]})]})]})]})]});}export default DashboardPage;","map":{"version":3,"names":["React","useState","useEffect","Link","styled","Layout","collection","query","getDocs","orderBy","where","db","Bar","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","jsx","_jsx","jsxs","_jsxs","register","Section","section","_ref","theme","spacing","xl","SectionTitle","h2","_ref2","fontSize","heading3","_ref3","colors","primary","dark","_ref4","lg","_ref5","sm","StatsGrid","div","_ref6","_ref7","StatCard","_ref8","neutral","white","_ref9","borderRadius","medium","_ref10","shadows","_ref11","_ref12","animation","normal","_ref13","_ref14","large","CardIcon","_ref15","round","_ref16","bgColor","light","_ref17","md","_ref18","iconColor","main","CardTitle","h3","_ref19","_ref20","darkGrey","_ref21","xs","CardValue","_ref22","xxl","_ref23","color","_ref24","CardInfo","_ref25","_ref26","isPositive","functional","success","error","grey","_ref27","TwoColumnLayout","_ref28","_ref29","breakpoints","TableCard","_ref30","_ref31","_ref32","CardHeader","_ref33","_ref34","lightGrey","CardContent","_ref35","FilterBar","_ref36","_ref37","FilterGroup","FilterLabel","label","_ref38","_ref39","_ref40","FilterSelect","select","_ref41","_ref42","_ref43","small","_ref44","_ref45","_ref46","_ref47","focused","SearchInput","input","_ref48","_ref49","_ref50","_ref51","_ref52","_ref53","_ref54","PatientTable","table","TableHeader","thead","_ref55","lighterGrey","HeaderCell","th","_ref56","_ref57","_ref58","TableBody","tbody","TableRow","tr","_ref59","_ref60","_ref61","TableCell","td","_ref62","_ref63","text","_ref64","StyledLink","_ref65","_ref66","Badge","span","_ref67","_ref68","_ref69","_ref70","type","warning","ChartCard","_ref71","_ref72","_ref73","_ref74","ChartContainer","_ref75","ActivityCard","_ref76","_ref77","_ref78","ActivityList","ActivityItem","_ref79","_ref80","ActivityIcon","_ref81","_ref82","_ref83","_ref84","ActivityContent","ActivityTitle","_ref85","_ref86","black","ActivityMeta","_ref87","_ref88","getRequestStatusText","status","statuses","domainStats","physical","mean","sd","selfcare","support","psychological","social","resilience","formatBirthDate","birthDate","includes","Date","toISOString","split","toDate","DashboardPage","patients","setPatients","filteredPatients","setFilteredPatients","recentActivities","setRecentActivities","statsData","setStatsData","totalPatients","newPatients","pendingRequests","highRiskPatients","loading","setLoading","setError","filters","setFilters","riskLevel","cancerType","treatmentStatus","searchTerm","currentPage","setCurrentPage","patientsPerPage","fetchData","usersSnapshot","patientsData","oneMonthAgo","setMonth","getMonth","forEach","doc","userData","data","_userData$createdAt","_userData$createdAt$t","patient","id","name","age","gender","currentTreatment","diagnosisDate","mentalHealthHistory","physicalLimitations","treatmentTypes","otherCancerType","otherTreatmentType","createdAt","call","averageNewScore","answers","categoryQuestions","totalNewScore","categoriesWithScores","Object","entries","_ref89","category","questions","totalScore","answeredQuestions","questionNum","answerKey","needsReverseScoring","score","parseInt","scaleScore","zScore","newScore","Math","push","counselingSnapshot","activitiesQuery","activitiesSnapshot","activitiesData","_doc$data$createdAt","activity","slice","size","console","filtered","filter","term","toLowerCase","handleFilterChange","e","value","target","prev","cancerTypeData","labels","datasets","p","length","backgroundColor","title","children","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","points","cx","cy","r","x","y","rx","ry","htmlFor","onChange","placeholder","colSpan","style","textAlign","map","substring","to","display","justifyContent","alignItems","padding","gap","onClick","max","disabled","border","background","cursor","Array","ceil","_","i","min","options","responsive","maintainAspectRatio","plugins","legend","margin","x1","y1","x2","y2","toLocaleDateString","toLocaleTimeString","hour","minute"],"sources":["C:/Users/20201/OneDrive/바탕 화면/patient_survey/web2/src/pages/DashboardPage.js"],"sourcesContent":["// src/pages/DashboardPage.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Layout from '../components/Layout';\r\nimport { collection, query, getDocs, orderBy, where } from 'firebase/firestore';\r\nimport { db } from '../firebase';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend } from 'chart.js';\r\n\r\n// Chart.js 등록\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\r\n\r\n// 페이지 구역\r\nconst Section = styled.section`\r\n  margin-bottom: ${({ theme }) => theme.spacing.xl};\r\n`;\r\n\r\n// 섹션 제목\r\nconst SectionTitle = styled.h2`\r\n  font-size: ${({ theme }) => theme.fontSize.heading3};\r\n  color: ${({ theme }) => theme.colors.primary.dark};\r\n  margin-bottom: ${({ theme }) => theme.spacing.lg};\r\n  display: flex;\r\n  align-items: center;\r\n  \r\n  svg {\r\n    margin-right: ${({ theme }) => theme.spacing.sm};\r\n  }\r\n`;\r\n\r\n// 스태틱스틱 카드 그리드\r\nconst StatsGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\r\n  gap: ${({ theme }) => theme.spacing.lg};\r\n  margin-bottom: ${({ theme }) => theme.spacing.xl};\r\n`;\r\n\r\n// 스태틱스틱 카드\r\nconst StatCard = styled.div`\r\n  background-color: ${({ theme }) => theme.colors.neutral.white};\r\n  border-radius: ${({ theme }) => theme.borderRadius.medium};\r\n  box-shadow: ${({ theme }) => theme.shadows.medium};\r\n  padding: ${({ theme }) => theme.spacing.lg};\r\n  display: flex;\r\n  flex-direction: column;\r\n  transition: transform ${({ theme }) => theme.animation.normal} ease, \r\n              box-shadow ${({ theme }) => theme.animation.normal} ease;\r\n  \r\n  &:hover {\r\n    transform: translateY(-5px);\r\n    box-shadow: ${({ theme }) => theme.shadows.large};\r\n  }\r\n`;\r\n\r\n// 카드 아이콘\r\nconst CardIcon = styled.div`\r\n  width: 48px;\r\n  height: 48px;\r\n  border-radius: ${({ theme }) => theme.borderRadius.round};\r\n  background-color: ${({ theme, bgColor }) => bgColor || theme.colors.primary.light};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-bottom: ${({ theme }) => theme.spacing.md};\r\n  \r\n  svg {\r\n    color: ${({ theme, iconColor }) => iconColor || theme.colors.primary.main};\r\n    font-size: 24px;\r\n  }\r\n`;\r\n\r\n// 카드 제목\r\nconst CardTitle = styled.h3`\r\n  font-size: ${({ theme }) => theme.fontSize.sm};\r\n  color: ${({ theme }) => theme.colors.neutral.darkGrey};\r\n  margin-bottom: ${({ theme }) => theme.spacing.xs};\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n`;\r\n\r\n// 카드 값\r\nconst CardValue = styled.div`\r\n  font-size: ${({ theme }) => theme.fontSize.xxl};\r\n  font-weight: 700;\r\n  color: ${({ theme, color }) => color || theme.colors.primary.dark};\r\n  margin-bottom: ${({ theme }) => theme.spacing.xs};\r\n`;\r\n\r\n// 추가 정보\r\nconst CardInfo = styled.div`\r\n  font-size: ${({ theme }) => theme.fontSize.sm};\r\n  color: ${({ theme, isPositive }) => \r\n    isPositive ? theme.colors.functional.success : \r\n    isPositive === false ? theme.colors.functional.error : \r\n    theme.colors.neutral.grey\r\n  };\r\n  display: flex;\r\n  align-items: center;\r\n  \r\n  svg {\r\n    margin-right: ${({ theme }) => theme.spacing.xs};\r\n  }\r\n`;\r\n\r\n// 2열 레이아웃\r\nconst TwoColumnLayout = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 2fr 1fr;\r\n  gap: ${({ theme }) => theme.spacing.lg};\r\n  \r\n  @media (max-width: ${({ theme }) => theme.breakpoints.lg}) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n`;\r\n\r\n// 환자 테이블 카드\r\nconst TableCard = styled.div`\r\n  background-color: ${({ theme }) => theme.colors.neutral.white};\r\n  border-radius: ${({ theme }) => theme.borderRadius.medium};\r\n  box-shadow: ${({ theme }) => theme.shadows.medium};\r\n  overflow: hidden;\r\n`;\r\n\r\n// 카드 헤더\r\nconst CardHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: ${({ theme }) => theme.spacing.lg};\r\n  border-bottom: 1px solid ${({ theme }) => theme.colors.neutral.lightGrey};\r\n`;\r\n\r\n// 카드 콘텐츠\r\nconst CardContent = styled.div`\r\n  padding: ${({ theme }) => theme.spacing.lg};\r\n`;\r\n\r\n// 필터 바\r\nconst FilterBar = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: ${({ theme }) => theme.spacing.md};\r\n  margin-bottom: ${({ theme }) => theme.spacing.lg};\r\n`;\r\n\r\n// 필터 그룹\r\nconst FilterGroup = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\n// 필터 라벨\r\nconst FilterLabel = styled.label`\r\n  margin-right: ${({ theme }) => theme.spacing.xs};\r\n  font-weight: 500;\r\n  color: ${({ theme }) => theme.colors.neutral.darkGrey};\r\n  font-size: ${({ theme }) => theme.fontSize.sm};\r\n`;\r\n\r\n// 필터 선택\r\nconst FilterSelect = styled.select`\r\n  padding: ${({ theme }) => `${theme.spacing.xs} ${theme.spacing.sm}`};\r\n  border: 1px solid ${({ theme }) => theme.colors.neutral.lightGrey};\r\n  border-radius: ${({ theme }) => theme.borderRadius.small};\r\n  background-color: ${({ theme }) => theme.colors.neutral.white};\r\n  font-size: ${({ theme }) => theme.fontSize.sm};\r\n  \r\n  &:focus {\r\n    border-color: ${({ theme }) => theme.colors.primary.main};\r\n    outline: none;\r\n    box-shadow: ${({ theme }) => theme.shadows.focused};\r\n  }\r\n`;\r\n\r\n// 검색 입력\r\nconst SearchInput = styled.input`\r\n  padding: ${({ theme }) => `${theme.spacing.xs} ${theme.spacing.sm}`};\r\n  border: 1px solid ${({ theme }) => theme.colors.neutral.lightGrey};\r\n  border-radius: ${({ theme }) => theme.borderRadius.small};\r\n  margin-left: auto;\r\n  width: 250px;\r\n  font-size: ${({ theme }) => theme.fontSize.sm};\r\n  \r\n  &:focus {\r\n    border-color: ${({ theme }) => theme.colors.primary.main};\r\n    outline: none;\r\n    box-shadow: ${({ theme }) => theme.shadows.focused};\r\n  }\r\n  \r\n  @media (max-width: ${({ theme }) => theme.breakpoints.md}) {\r\n    width: 100%;\r\n    margin-left: 0;\r\n  }\r\n`;\r\n\r\n// 환자 테이블\r\nconst PatientTable = styled.table`\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n`;\r\n\r\n// 테이블 헤더\r\nconst TableHeader = styled.thead`\r\n  background-color: ${({ theme }) => theme.colors.neutral.lighterGrey};\r\n`;\r\n\r\n// 헤더 셀\r\nconst HeaderCell = styled.th`\r\n  text-align: left;\r\n  padding: ${({ theme }) => theme.spacing.md};\r\n  font-weight: 600;\r\n  color: ${({ theme }) => theme.colors.neutral.darkGrey};\r\n  font-size: ${({ theme }) => theme.fontSize.sm};\r\n`;\r\n\r\n// 테이블 바디\r\nconst TableBody = styled.tbody``;\r\n\r\n// 테이블 행\r\nconst TableRow = styled.tr`\r\n  border-bottom: 1px solid ${({ theme }) => theme.colors.neutral.lightGrey};\r\n  transition: background-color ${({ theme }) => theme.animation.normal} ease;\r\n  \r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.colors.neutral.lighterGrey};\r\n  }\r\n`;\r\n\r\n// 테이블 셀\r\nconst TableCell = styled.td`\r\n  padding: ${({ theme }) => theme.spacing.md};\r\n  color: ${({ theme }) => theme.colors.neutral.text};\r\n  font-size: ${({ theme }) => theme.fontSize.sm};\r\n`;\r\n\r\n// 링크 스타일\r\nconst StyledLink = styled(Link)`\r\n  color: ${({ theme }) => theme.colors.primary.main};\r\n  text-decoration: none;\r\n  font-weight: 500;\r\n  \r\n  &:hover {\r\n    text-decoration: underline;\r\n    color: ${({ theme }) => theme.colors.primary.dark};\r\n  }\r\n`;\r\n\r\n// 배지\r\nconst Badge = styled.span`\r\n  display: inline-block;\r\n  padding: ${({ theme }) => `${theme.spacing.xs} ${theme.spacing.sm}`};\r\n  border-radius: ${({ theme }) => theme.borderRadius.round};\r\n  font-size: ${({ theme }) => theme.fontSize.xs};\r\n  font-weight: 700;\r\n  background-color: ${({ theme, type }) => {\r\n    if (type === 'high') return theme.colors.functional.error;\r\n    if (type === 'medium') return theme.colors.functional.warning;\r\n    return theme.colors.functional.success;\r\n  }};\r\n  color: white;\r\n`;\r\n\r\n// 차트 카드\r\nconst ChartCard = styled.div`\r\n  background-color: ${({ theme }) => theme.colors.neutral.white};\r\n  border-radius: ${({ theme }) => theme.borderRadius.medium};\r\n  box-shadow: ${({ theme }) => theme.shadows.medium};\r\n  padding: ${({ theme }) => theme.spacing.lg};\r\n  height: 100%;\r\n`;\r\n\r\n// 차트 컨테이너\r\nconst ChartContainer = styled.div`\r\n  height: 250px;\r\n  margin-top: ${({ theme }) => theme.spacing.lg};\r\n`;\r\n\r\n// 최근 활동 카드\r\nconst ActivityCard = styled.div`\r\n  background-color: ${({ theme }) => theme.colors.neutral.white};\r\n  border-radius: ${({ theme }) => theme.borderRadius.medium};\r\n  box-shadow: ${({ theme }) => theme.shadows.medium};\r\n  overflow: hidden;\r\n`;\r\n\r\n// 활동 목록\r\nconst ActivityList = styled.div`\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n`;\r\n\r\n// 활동 아이템\r\nconst ActivityItem = styled.div`\r\n  padding: ${({ theme }) => theme.spacing.md};\r\n  border-bottom: 1px solid ${({ theme }) => theme.colors.neutral.lightGrey};\r\n  display: flex;\r\n  align-items: flex-start;\r\n  \r\n  &:last-child {\r\n    border-bottom: none;\r\n  }\r\n`;\r\n\r\n// 활동 아이콘\r\nconst ActivityIcon = styled.div`\r\n  width: 36px;\r\n  height: 36px;\r\n  border-radius: ${({ theme }) => theme.borderRadius.round};\r\n  background-color: ${({ theme, type }) => {\r\n    if (type === 'request') return theme.colors.primary.light;\r\n    if (type === 'completed') return theme.colors.functional.success + '20';\r\n    return theme.colors.neutral.lightGrey;\r\n  }};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: ${({ theme }) => theme.spacing.md};\r\n  \r\n  svg {\r\n    color: ${({ theme, type }) => {\r\n      if (type === 'request') return theme.colors.primary.main;\r\n      if (type === 'completed') return theme.colors.functional.success;\r\n      return theme.colors.neutral.darkGrey;\r\n    }};\r\n  }\r\n`;\r\n\r\n// 활동 내용\r\nconst ActivityContent = styled.div`\r\n  flex: 1;\r\n`;\r\n\r\n// 활동 제목\r\nconst ActivityTitle = styled.div`\r\n  font-weight: 500;\r\n  margin-bottom: ${({ theme }) => theme.spacing.xs};\r\n  color: ${({ theme }) => theme.colors.neutral.black};\r\n`;\r\n\r\n// 활동 메타 정보\r\nconst ActivityMeta = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: ${({ theme }) => theme.fontSize.xs};\r\n  color: ${({ theme }) => theme.colors.neutral.grey};\r\n`;\r\n\r\n// 상담 요청 상태를 한글로 변환\r\nconst getRequestStatusText = (status) => {\r\n  const statuses = {\r\n    'pending': '대기 중',\r\n    'accepted': '예약 확정',\r\n    'completed': '완료',\r\n    'cancelled': '취소됨'\r\n  };\r\n  return statuses[status] || '알 수 없음';\r\n};\r\n\r\n// 영역별 평균 및 표준편차 정보\r\nconst domainStats = {\r\n  physical: { mean: 3.09, sd: 0.95 },\r\n  selfcare: { mean: 3.63, sd: 0.76 },\r\n  support: { mean: 3.84, sd: 0.94 },\r\n  psychological: { mean: 3.08, sd: 0.91 },\r\n  social: { mean: 3.39, sd: 1.20 },\r\n  resilience: { mean: 4.28, sd: 0.72 }\r\n};\r\n\r\n// 생년월일을 연-월-일 형식으로 포맷하는 함수\r\nconst formatBirthDate = (birthDate) => {\r\n  if (!birthDate) return '정보 없음';\r\n  \r\n  // 이미 포맷된 문자열인 경우 (YYYY-MM-DD)\r\n  if (typeof birthDate === 'string' && birthDate.includes('-')) {\r\n    return birthDate;\r\n  }\r\n  \r\n  // Date 객체인 경우\r\n  if (birthDate instanceof Date) {\r\n    return birthDate.toISOString().split('T')[0];\r\n  }\r\n  \r\n  // Firestore Timestamp인 경우\r\n  if (birthDate && typeof birthDate.toDate === 'function') {\r\n    return birthDate.toDate().toISOString().split('T')[0];\r\n  }\r\n  \r\n  return '정보 없음';\r\n};\r\n\r\nfunction DashboardPage() {\r\n  const [patients, setPatients] = useState([]);\r\n  const [filteredPatients, setFilteredPatients] = useState([]);\r\n  const [recentActivities, setRecentActivities] = useState([]);\r\n  const [statsData, setStatsData] = useState({\r\n    totalPatients: 0,\r\n    newPatients: 0,\r\n    pendingRequests: 0,\r\n    highRiskPatients: 0\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [filters, setFilters] = useState({\r\n    riskLevel: 'all',\r\n    cancerType: 'all',\r\n    treatmentStatus: 'all',\r\n    searchTerm: ''\r\n  });\r\n  \r\n  // 페이지네이션 상태 추가\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const patientsPerPage = 5; // 한 페이지당 5명의 환자만 표시\r\n  \r\n  // 환자 데이터 불러오기\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        // users 컬렉션에서 환자 데이터 불러오기\r\n        const usersSnapshot = await getDocs(collection(db, \"users\"));\r\n        const patientsData = [];\r\n        let totalPatients = 0;\r\n        let highRiskPatients = 0;\r\n        \r\n        // 한 달 전 날짜\r\n        const oneMonthAgo = new Date();\r\n        oneMonthAgo.setMonth(oneMonthAgo.getMonth() - 1);\r\n        \r\n        let newPatients = 0;\r\n        \r\n        usersSnapshot.forEach((doc) => {\r\n          const userData = doc.data();\r\n          \r\n          // 유저 데이터가 있는 경우만 추가\r\n          if (userData) {\r\n            const patient = {\r\n              id: doc.id,\r\n              name: userData.name || '익명',\r\n              age: userData.age || '',\r\n              gender: userData.gender || '',\r\n              cancerType: userData.cancerType || '',\r\n              currentTreatment: userData.currentTreatment || '',\r\n              diagnosisDate: userData.diagnosisDate || '',\r\n              birthDate: userData.birthDate || '',\r\n              mentalHealthHistory: userData.mentalHealthHistory || '',\r\n              physicalLimitations: userData.physicalLimitations || '',\r\n              treatmentTypes: userData.treatmentTypes || [],\r\n              otherCancerType: userData.otherCancerType || '',\r\n              otherTreatmentType: userData.otherTreatmentType || '',\r\n              createdAt: userData.createdAt?.toDate?.() || new Date()\r\n            };\r\n            \r\n            // 위험도 계산 - newScore 기반\r\n            let riskLevel = 'low'; // 기본값\r\n            let averageNewScore = 0;\r\n            \r\n            // 설문 데이터가 있는 경우에만 newScore 기반 위험도 계산\r\n            if (userData.answers) {\r\n              // 모든 카테고리의 평균 newScore 계산을 위한 준비\r\n              const categoryQuestions = {\r\n                physical: [1, 2, 3, 4, 5, 6, 7, 8],\r\n                selfcare: [9, 10, 11, 12, 13],\r\n                support: [14, 15, 16, 17],\r\n                psychological: [18, 19, 20, 21, 22, 23, 24, 25],\r\n                social: [26, 27, 28],\r\n                resilience: [29, 30, 31]\r\n              };\r\n              \r\n              // 각 카테고리별 newScore 계산\r\n              let totalNewScore = 0;\r\n              let categoriesWithScores = 0;\r\n              \r\n              Object.entries(categoryQuestions).forEach(([category, questions]) => {\r\n                let totalScore = 0;\r\n                let answeredQuestions = 0;\r\n                \r\n                questions.forEach(questionNum => {\r\n                  const answerKey = `q${questionNum}`;\r\n                  if (userData.answers[answerKey]) {\r\n                    // 역코딩이 필요한 문항 처리 (일부 질문은 점수가 높을수록 부정적)\r\n                    const needsReverseScoring = [1, 2, 3, 4, 5, 6, 7, 8, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28];\r\n                    const score = parseInt(userData.answers[answerKey]);\r\n                    \r\n                    if (needsReverseScoring.includes(questionNum)) {\r\n                      // 역코딩 (1->5, 2->4, 3->3, 4->2, 5->1)\r\n                      totalScore += (6 - score); \r\n                    } else {\r\n                      totalScore += score;\r\n                    }\r\n                    answeredQuestions++;\r\n                  }\r\n                });\r\n                \r\n                // 5점 척도 평균 점수\r\n                const scaleScore = answeredQuestions > 0 ? totalScore / answeredQuestions : 0;\r\n                \r\n                // NewScore 계산 (Z 점수 기반)\r\n                if (answeredQuestions > 0 && domainStats[category]) {\r\n                  // Z 점수 계산\r\n                  const zScore = (scaleScore - domainStats[category].mean) / domainStats[category].sd;\r\n                  // NewScore 계산: (Z점수 * 16.67) + 50\r\n                  const newScore = Math.round((zScore * 16.67) + 50);\r\n                  totalNewScore += newScore;\r\n                  categoriesWithScores++;\r\n                }\r\n              });\r\n              \r\n              // 전체 평균 newScore 계산\r\n              averageNewScore = categoriesWithScores > 0 ? totalNewScore / categoriesWithScores : 0;\r\n              \r\n              // 평균 newScore 기준으로 위험도 결정\r\n              if (averageNewScore < 40) {\r\n                riskLevel = 'high'; // 40점 미만은 위험\r\n                highRiskPatients++;\r\n              } else if (averageNewScore < 50) {\r\n                riskLevel = 'medium'; // 40~49점은 주의\r\n              } else {\r\n                riskLevel = 'low'; // 50점 이상은 양호호\r\n              }\r\n            } else {\r\n              // 설문 데이터가 없는 경우 기존 로직으로 대체\r\n              if (userData.mentalHealthHistory && userData.mentalHealthHistory !== \"아니오\") {\r\n                riskLevel = 'high';\r\n                highRiskPatients++;\r\n              } else if (userData.physicalLimitations) {\r\n                riskLevel = 'medium';\r\n              }\r\n            }\r\n            \r\n            // 신규 환자 판별\r\n            if (patient.createdAt > oneMonthAgo) {\r\n              newPatients++;\r\n            }\r\n            \r\n            patientsData.push({\r\n              ...patient,\r\n              riskLevel,\r\n              averageNewScore\r\n            });\r\n            \r\n            totalPatients++;\r\n          }\r\n        });\r\n        \r\n        // 상담 요청 데이터 불러오기\r\n        const counselingSnapshot = await getDocs(\r\n          query(collection(db, \"counselingRequests\"), where(\"status\", \"==\", \"pending\"))\r\n        );\r\n        \r\n        // 최근 활동 데이터 불러오기\r\n        const activitiesQuery = query(\r\n          collection(db, \"counselingRequests\"),\r\n          orderBy(\"createdAt\", \"desc\")\r\n        );\r\n        \r\n        const activitiesSnapshot = await getDocs(activitiesQuery);\r\n        const activitiesData = [];\r\n        \r\n        activitiesSnapshot.forEach(doc => {\r\n          const activity = {\r\n            id: doc.id,\r\n            ...doc.data(),\r\n            createdAt: doc.data().createdAt?.toDate() || new Date()\r\n          };\r\n          \r\n          activitiesData.push(activity);\r\n        });\r\n        \r\n        setPatients(patientsData);\r\n        setFilteredPatients(patientsData);\r\n        setRecentActivities(activitiesData.slice(0, 5));\r\n        setStatsData({\r\n          totalPatients,\r\n          newPatients,\r\n          pendingRequests: counselingSnapshot.size,\r\n          highRiskPatients\r\n        });\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error(\"데이터 불러오기 오류:\", error);\r\n        setError(\"데이터를 불러오는 중 오류가 발생했습니다.\");\r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    fetchData();\r\n  }, []);\r\n  \r\n  // 필터링 로직\r\n  useEffect(() => {\r\n    let filtered = [...patients];\r\n    \r\n    // 위험도 필터\r\n    if (filters.riskLevel !== 'all') {\r\n      filtered = filtered.filter(patient => patient.riskLevel === filters.riskLevel);\r\n    }\r\n    \r\n    // 암 종류 필터 - 이제 한글 값을 직접 비교\r\n    if (filters.cancerType !== 'all') {\r\n      filtered = filtered.filter(patient => {\r\n        // 한글 암 종류로 직접 비교\r\n        if (filters.cancerType === 'breast') return patient.cancerType === '유방암';\r\n        if (filters.cancerType === 'colorectal') return patient.cancerType === '대장암';\r\n        if (filters.cancerType === 'lung') return patient.cancerType === '폐암';\r\n        if (filters.cancerType === 'gastric') return patient.cancerType === '위암';\r\n        if (filters.cancerType === 'liver') return patient.cancerType === '간암';\r\n        if (filters.cancerType === 'thyroid') return patient.cancerType === '갑상선암';\r\n        if (filters.cancerType === 'prostate') return patient.cancerType === '전립선암';\r\n        // 기타 또는 기타암 처리\r\n        return patient.cancerType === '기타' || patient.cancerType === '기타암';\r\n      });\r\n    }\r\n    \r\n    // 치료 상태 필터 - 한글 값 직접 비교\r\n    if (filters.treatmentStatus !== 'all') {\r\n      filtered = filtered.filter(patient => {\r\n        // 치료 상태 한글값으로 직접 비교\r\n        if (filters.treatmentStatus === 'ongoing') return patient.currentTreatment.includes('치료 중');\r\n        if (filters.treatmentStatus === 'completed') return patient.currentTreatment.includes('치료 완료');\r\n        if (filters.treatmentStatus === 'recurrence') return patient.currentTreatment.includes('재발');\r\n        return patient.currentTreatment.includes('경과 확인');\r\n      });\r\n    }\r\n    \r\n    // 검색어 필터\r\n    if (filters.searchTerm) {\r\n      const term = filters.searchTerm.toLowerCase();\r\n      filtered = filtered.filter(patient => \r\n        (patient.name && patient.name.toLowerCase().includes(term)) || \r\n        `${patient.id}`.includes(term)\r\n      );\r\n    }\r\n    \r\n    setFilteredPatients(filtered);\r\n    // 필터링이 변경될 때마다 첫 번째 페이지로 리셋\r\n    setCurrentPage(1);\r\n  }, [filters, patients]);\r\n  \r\n  // 필터 변경 핸들러\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n  \r\n  // 암 종류별 환자 수 차트 데이터 - 한글 데이터 사용\r\n  const cancerTypeData = {\r\n    labels: ['유방암', '대장암', '폐암', '위암', '간암', '갑상선암', '전립선암', '기타'],\r\n    datasets: [\r\n      {\r\n        label: '환자 수',\r\n        data: [\r\n          patients.filter(p => p.cancerType === '유방암').length,\r\n          patients.filter(p => p.cancerType === '대장암').length,\r\n          patients.filter(p => p.cancerType === '폐암').length,\r\n          patients.filter(p => p.cancerType === '위암').length,\r\n          patients.filter(p => p.cancerType === '간암').length,\r\n          patients.filter(p => p.cancerType === '갑상선암').length,\r\n          patients.filter(p => p.cancerType === '전립선암').length,\r\n          patients.filter(p => p.cancerType === '기타' || p.cancerType === '기타암').length\r\n        ],\r\n        backgroundColor: [\r\n          '#4e73df',\r\n          '#1cc88a',\r\n          '#36b9cc',\r\n          '#f6c23e',\r\n          '#e74a3b',\r\n          '#5a5c69',\r\n          '#6f42c1',\r\n          '#fd7e14'\r\n        ],\r\n      }\r\n    ],\r\n  };\r\n  \r\n  return (\r\n    <Layout title=\"대시보드\">\r\n      <Section>\r\n        <SectionTitle>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n            <path d=\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"></path>\r\n            <polyline points=\"9 22 9 12 15 12 15 22\"></polyline>\r\n          </svg>\r\n          환자 현황\r\n        </SectionTitle>\r\n        \r\n        <StatsGrid>\r\n          <StatCard>\r\n            <CardIcon bgColor=\"#E3F2FD\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                <path d=\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"></path>\r\n                <circle cx=\"9\" cy=\"7\" r=\"4\"></circle>\r\n                <path d=\"M23 21v-2a4 4 0 0 0-3-3.87\"></path>\r\n                <path d=\"M16 3.13a4 4 0 0 1 0 7.75\"></path>\r\n              </svg>\r\n            </CardIcon>\r\n            <CardTitle>총 환자 수</CardTitle>\r\n            <CardValue>{statsData.totalPatients}</CardValue>\r\n            <CardInfo isPositive={true}>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                <polyline points=\"18 15 12 9 6 15\"></polyline>\r\n              </svg>\r\n              {statsData.newPatients} 신규 환자\r\n            </CardInfo>\r\n          </StatCard>\r\n          \r\n          <StatCard>\r\n            <CardIcon bgColor=\"#E8F5E9\" iconColor=\"#388E3C\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                <path d=\"M22 11.08V12a10 10 0 1 1-5.93-9.14\"></path>\r\n                <polyline points=\"22 4 12 14.01 9 11.01\"></polyline>\r\n              </svg>\r\n            </CardIcon>\r\n            <CardTitle>완료된 설문</CardTitle>\r\n            <CardValue color=\"#388E3C\">\r\n              {patients.length}\r\n            </CardValue>\r\n            <CardInfo>\r\n              {statsData.totalPatients > 0 ? Math.round((patients.length / statsData.totalPatients) * 100) : 0}% 완료율\r\n            </CardInfo>\r\n          </StatCard>\r\n          \r\n          <StatCard>\r\n            <CardIcon bgColor=\"#FFF3E0\" iconColor=\"#F57C00\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                <path d=\"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\"></path>\r\n                <polyline points=\"22,6 12,13 2,6\"></polyline>\r\n              </svg>\r\n            </CardIcon>\r\n            <CardTitle>상담 요청</CardTitle>\r\n            <CardValue color=\"#F57C00\">{statsData.pendingRequests}</CardValue>\r\n            <CardInfo>대기 중</CardInfo>\r\n          </StatCard>\r\n          \r\n          <StatCard>\r\n            <CardIcon bgColor=\"#FFEBEE\" iconColor=\"#D32F2F\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                <path d=\"M22 12h-4l-3 9L9 3l-3 9H2\"></path>\r\n              </svg>\r\n            </CardIcon>\r\n            <CardTitle>위험군 환자</CardTitle>\r\n            <CardValue color=\"#D32F2F\">{statsData.highRiskPatients}</CardValue>\r\n            <CardInfo isPositive={false}>\r\n              {statsData.totalPatients > 0 ? Math.round((statsData.highRiskPatients / statsData.totalPatients) * 100) : 0}% 비율\r\n            </CardInfo>\r\n          </StatCard>\r\n        </StatsGrid>\r\n      </Section>\r\n      \r\n      <TwoColumnLayout>\r\n        <Section>\r\n          <SectionTitle>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n              <path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path>\r\n              <rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect>\r\n            </svg>\r\n            환자 목록\r\n          </SectionTitle>\r\n          \r\n          <TableCard>\r\n            <CardHeader>\r\n              <FilterBar>\r\n                <FilterGroup>\r\n                  <FilterLabel htmlFor=\"riskLevel\">위험도:</FilterLabel>\r\n                  <FilterSelect\r\n                    id=\"riskLevel\"\r\n                    name=\"riskLevel\"\r\n                    value={filters.riskLevel}\r\n                    onChange={handleFilterChange}\r\n                  >\r\n                    <option value=\"all\">전체</option>\r\n                    <option value=\"high\">위험</option>\r\n                    <option value=\"medium\">주의</option>\r\n                    <option value=\"low\">양호</option>\r\n                  </FilterSelect>\r\n                </FilterGroup>\r\n                \r\n                <FilterGroup>\r\n                  <FilterLabel htmlFor=\"cancerType\">암 종류:</FilterLabel>\r\n                  <FilterSelect\r\n                    id=\"cancerType\"\r\n                    name=\"cancerType\"\r\n                    value={filters.cancerType}\r\n                    onChange={handleFilterChange}\r\n                  >\r\n                    <option value=\"all\">전체</option>\r\n                    <option value=\"breast\">유방암</option>\r\n                    <option value=\"colorectal\">대장암</option>\r\n                    <option value=\"lung\">폐암</option>\r\n                    <option value=\"gastric\">위암</option>\r\n                    <option value=\"liver\">간암</option>\r\n                    <option value=\"thyroid\">갑상선암</option>\r\n                    <option value=\"prostate\">전립선암</option>\r\n                    <option value=\"other\">기타</option>\r\n                  </FilterSelect>\r\n                </FilterGroup>\r\n                \r\n                <FilterGroup>\r\n                  <FilterLabel htmlFor=\"treatmentStatus\">치료 상태:</FilterLabel>\r\n                  <FilterSelect\r\n                    id=\"treatmentStatus\"\r\n                    name=\"treatmentStatus\"\r\n                    value={filters.treatmentStatus}\r\n                    onChange={handleFilterChange}\r\n                  >\r\n                    <option value=\"all\">전체</option>\r\n                    <option value=\"ongoing\">치료 중</option>\r\n                    <option value=\"completed\">치료 완료</option>\r\n                    <option value=\"recurrence\">재발/추가 치료</option>\r\n                    <option value=\"maintenance\">경과 확인 중</option>\r\n                  </FilterSelect>\r\n                </FilterGroup>\r\n                \r\n                <SearchInput\r\n                  type=\"text\"\r\n                  name=\"searchTerm\"\r\n                  value={filters.searchTerm}\r\n                  onChange={handleFilterChange}\r\n                  placeholder=\"환자 이름 검색...\"\r\n                /></FilterBar>\r\n            </CardHeader>\r\n            \r\n            <CardContent>\r\n              <PatientTable>\r\n                <TableHeader>\r\n                  <tr>\r\n                    <HeaderCell>ID</HeaderCell>\r\n                    <HeaderCell>이름</HeaderCell>\r\n                    <HeaderCell>암 종류</HeaderCell>\r\n                    <HeaderCell>생년월일</HeaderCell>\r\n                    <HeaderCell>진단 시기</HeaderCell>\r\n                    <HeaderCell>위험도</HeaderCell>\r\n                    <HeaderCell>상담 기록</HeaderCell>\r\n                  </tr>\r\n                </TableHeader>\r\n                <TableBody>\r\n                  {filteredPatients.length === 0 ? (\r\n                    <TableRow>\r\n                      <TableCell colSpan=\"7\" style={{ textAlign: 'center' }}>\r\n                        {loading ? '데이터를 불러오는 중...' : '환자 데이터가 없습니다.'}\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ) : (\r\n                    // 현재 페이지에 해당하는 환자만 표시 (5명씩)\r\n                    filteredPatients\r\n                      .slice((currentPage - 1) * patientsPerPage, currentPage * patientsPerPage)\r\n                      .map(patient => (\r\n                        <TableRow key={patient.id}>\r\n                          <TableCell>{patient.id.substring(0, 8)}...</TableCell>\r\n                          <TableCell>\r\n                            <StyledLink to={`/patients/${patient.id}`}>\r\n                              {patient.name || '익명'}\r\n                            </StyledLink>\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            {patient.cancerType}\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            {formatBirthDate(patient.birthDate)}\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            {patient.diagnosisDate || '정보 없음'}\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <Badge type={patient.riskLevel}>\r\n                              {patient.riskLevel === 'high' ? '위험' : \r\n                              patient.riskLevel === 'medium' ? '주의' : '양호'}\r\n                            </Badge>\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <StyledLink to={`/patients/${patient.id}?tab=counseling`}>\r\n                              상세 보기\r\n                            </StyledLink>\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      ))\r\n                  )}\r\n                </TableBody>\r\n              </PatientTable>\r\n              \r\n              {/* 페이지네이션 컨트롤 추가 */}\r\n              {filteredPatients.length > patientsPerPage && (\r\n                <div style={{ \r\n                  display: 'flex',\r\n                  justifyContent: 'center',\r\n                  alignItems: 'center',\r\n                  padding: '1rem',\r\n                  gap: '0.5rem'\r\n                }}>\r\n                  <button \r\n                    onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}\r\n                    disabled={currentPage === 1}\r\n                    style={{\r\n                      padding: '0.5rem 1rem',\r\n                      borderRadius: '4px',\r\n                      border: '1px solid #dee2e6',\r\n                      background: currentPage === 1 ? '#f8f9fa' : 'white',\r\n                      cursor: currentPage === 1 ? 'not-allowed' : 'pointer',\r\n                      color: currentPage === 1 ? '#adb5bd' : '#2a5e8c'\r\n                    }}\r\n                  >\r\n                    이전\r\n                  </button>\r\n                  \r\n                  <div style={{ \r\n                    display: 'flex', \r\n                    gap: '0.5rem' \r\n                  }}>\r\n                    {/* 페이지 번호 버튼 생성 */}\r\n                    {[...Array(Math.ceil(filteredPatients.length / patientsPerPage))].map((_, i) => (\r\n                      <button\r\n                        key={i + 1}\r\n                        onClick={() => setCurrentPage(i + 1)}\r\n                        style={{\r\n                          padding: '0.5rem 1rem',\r\n                          borderRadius: '4px',\r\n                          border: '1px solid #dee2e6',\r\n                          background: currentPage === i + 1 ? '#2a5e8c' : 'white',\r\n                          color: currentPage === i + 1 ? 'white' : '#212529',\r\n                          cursor: 'pointer'\r\n                        }}\r\n                      >\r\n                        {i + 1}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                  \r\n                  <button \r\n                    onClick={() => setCurrentPage(prev => Math.min(prev + 1, Math.ceil(filteredPatients.length / patientsPerPage)))}\r\n                    disabled={currentPage === Math.ceil(filteredPatients.length / patientsPerPage)}\r\n                    style={{\r\n                      padding: '0.5rem 1rem',\r\n                      borderRadius: '4px',\r\n                      border: '1px solid #dee2e6',\r\n                      background: currentPage === Math.ceil(filteredPatients.length / patientsPerPage) ? '#f8f9fa' : 'white',\r\n                      cursor: currentPage === Math.ceil(filteredPatients.length / patientsPerPage) ? 'not-allowed' : 'pointer',\r\n                      color: currentPage === Math.ceil(filteredPatients.length / patientsPerPage) ? '#adb5bd' : '#2a5e8c'\r\n                    }}\r\n                  >\r\n                    다음\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </TableCard>\r\n        </Section>\r\n        \r\n        <div>\r\n          <Section>\r\n            <SectionTitle>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                <polyline points=\"22 12 18 12 15 21 9 3 6 12 2 12\"></polyline>\r\n              </svg>\r\n              암 종류별 통계\r\n            </SectionTitle>\r\n            \r\n            <ChartCard>\r\n              <ChartContainer>\r\n                <Bar \r\n                  data={cancerTypeData} \r\n                  options={{\r\n                    responsive: true,\r\n                    maintainAspectRatio: false,\r\n                    plugins: {\r\n                      legend: {\r\n                        display: false\r\n                      }\r\n                    }\r\n                  }} \r\n                />\r\n              </ChartContainer>\r\n            </ChartCard>\r\n          </Section>\r\n          \r\n          <Section>\r\n            <SectionTitle>\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n                <polyline points=\"12 6 12 12 16 14\"></polyline>\r\n              </svg>\r\n              최근 활동\r\n            </SectionTitle>\r\n            \r\n            <ActivityCard>\r\n              <CardHeader>\r\n                <h3 style={{ margin: 0, fontSize: '1rem' }}>최근 상담 요청</h3>\r\n              </CardHeader>\r\n              \r\n              <ActivityList>\r\n                {recentActivities.length === 0 ? (\r\n                  <div style={{ padding: '1.5rem', textAlign: 'center' }}>\r\n                    최근 활동이 없습니다.\r\n                  </div>\r\n                ) : (\r\n                  recentActivities.map(activity => (\r\n                    <ActivityItem key={activity.id}>\r\n                      <ActivityIcon type={activity.status}>\r\n                        {activity.status === 'pending' ? (\r\n                          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                            <polyline points=\"22 12 16 12 14 15 10 15 8 12 2 12\"></polyline>\r\n                            <path d=\"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z\"></path>\r\n                          </svg>\r\n                        ) : activity.status === 'completed' ? (\r\n                          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                            <path d=\"M22 11.08V12a10 10 0 1 1-5.93-9.14\"></path>\r\n                            <polyline points=\"22 4 12 14.01 9 11.01\"></polyline>\r\n                          </svg>\r\n                        ) : (\r\n                          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                            <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n                            <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\"></line>\r\n                            <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\"></line>\r\n                          </svg>\r\n                        )}\r\n                      </ActivityIcon>\r\n                      \r\n                      <ActivityContent>\r\n                        <ActivityTitle>\r\n                          {activity.name || '익명'} 님이 상담을 요청했습니다.\r\n                        </ActivityTitle>\r\n                        <ActivityMeta>\r\n                          <span>\r\n                            {activity.createdAt.toLocaleDateString()} {activity.createdAt.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                          </span>\r\n                          <StyledLink to={`/counseling-record/${activity.id}`}>\r\n                            상세보기\r\n                          </StyledLink>\r\n                        </ActivityMeta>\r\n                      </ActivityContent>\r\n                    </ActivityItem>\r\n                  ))\r\n                )}\r\n              </ActivityList>\r\n            </ActivityCard>\r\n          </Section>\r\n        </div>\r\n      </TwoColumnLayout>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default DashboardPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}