{"ast":null,"code":"// React : 사용자 인터페이스를 위한 JavaScript 라이브러리\n// useState : 컴포넌트 상태 관리 - 상태는 컴포넌트가 기억해야하는 동적인 값 - 이값이 변경되면 컴포넌트가 다시 렌더링됨\n// useEffect : 컴포넌트가 렌더링될 때마다 특정 작업을 수행할 수 있도록 해주는 함수\nimport React,{useState,useEffect}from'react';// react-router-dom : react 애플리케이션에서 페이지 이동 및 현재 url정보에 접근하기 위한 라이브러리\nimport{useNavigate,useLocation}from'react-router-dom';// Google이 만든 React UI 프레임워크 컴포넌트들 가져오기기\nimport{Container,Typography,Box,Paper,Button,Alert,AlertTitle,LinearProgress}from'@mui/material';// 섹션 1 컴포넌트 가져오기\nimport Section1Component from'../component/Section1Component';// Firebaseutils파일에서 saveUserAnswers함수 가져오기\nimport{saveUserAnswers}from'../utils/firebaseUtils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const steps=['암 이후 내 몸의 변화','건강한 삶을 위한 관리','회복하도록 도와주는 사람들','심리적 부담','사회적 삶의 부담','암 이후 탄력성','추가'];// const : 상수 선언 - 선언한 동시에 값을 할당해야 함\n// section1page 함수 정의 \nconst Section1Page=()=>{const navigate=useNavigate();// useLocation함수를 호출하여 현재 URL의 location 객체를 가져오고 그안에 있는 state를 가져옴\nconst{state}=useLocation();// ? - 옵셔널 체이닝 : 자바스크립트에서 객체 내부 속성에 접근할 때 중간에 값이 없으면 에러가 발생하지 않고 대신 undefined를 반환하는 안전한 문법 \n// state객체에 userName이 있으면 그 값을 사용하고 없으면 localStorage에 저장된 userName값을 사용, 둘다 없으면 빈 문자열\nconst userName=(state===null||state===void 0?void 0:state.userName)||localStorage.getItem('userName')||'';// useState함수의 배열 구조 분해 할당 -> [현재 상태 값,해당 상태 값을 업데이트할 수 있는 함수]\nconst[answers,setAnswers]=useState({});const[error,setError]=useState(false);const total=8;// Q1~Q8\n// Object.keys : 주어진 객체의 키들만 뽑아서 문자열 배열로 반환하는 자바스크립트 내장 메서드\n// 사용자가 질문에 대한 답변을 얼마나 했는지 체크하기 위한 변수 - 답변 개수에 따라 길이 동적으로 설정정\nconst done=Object.keys(answers).filter(k=>answers[k]).length;const progress=done/total*100;const currentStep=0;// 다음 버튼 클릭 시 호출되는 함수 \nconst handleNext=async()=>{if(done<total){setError(true);return;}// ...스프레드 연산자 answers객체의 모든 속성을 그대로 복사ㅏ여 updatedAnswers객체에 넣음\nconst updatedAnswers={...answers};// Firebase에 사용자 답변 저장\nawait saveUserAnswers(userName,updatedAnswers);navigate('/section2',{state:{name:userName,answers}});};useEffect(()=>{if(done===total)setError(false);},[done]);return/*#__PURE__*/_jsxs(Container,{maxWidth:\"md\",sx:{py:4,background:'none',bgcolor:'background.default'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",align:\"center\",gutterBottom:true,sx:{fontWeight:'bold'},children:\"\\uC554 \\uC0DD\\uC874\\uC790 \\uAC74\\uAC15\\uAD00\\uB9AC \\uC124\\uBB38\"}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",align:\"center\",color:\"textSecondary\",gutterBottom:true,children:\"\\uC5EC\\uB7EC\\uBD84\\uC758 \\uAC74\\uAC15 \\uC0C1\\uD0DC\\uC640 \\uC77C\\uC0C1\\uC0DD\\uD65C\\uC5D0 \\uB300\\uD55C \\uAC83\\uC785\\uB2C8\\uB2E4. \\uC544\\uB798 \\uB0B4\\uC6A9\\uC744 \\uCCB4\\uD06C\\uD574 \\uC8FC\\uC138\\uC694.\"}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'space-between',mb:3},children:steps.map((label,idx)=>{const bg=idx<currentStep?'success.main':idx===currentStep?'primary.main':'grey.300';const color=idx<=currentStep?'text.primary':'text.disabled';return/*#__PURE__*/_jsxs(Box,{sx:{flex:1,textAlign:'center'},children:[/*#__PURE__*/_jsx(Box,{sx:{width:32,height:32,mx:'auto',borderRadius:'50%',bgcolor:bg,color:'#fff',display:'flex',alignItems:'center',justifyContent:'center'},children:idx+1}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{mt:1,color},children:label})]},label);})}),/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{fontWeight:'bold',mb:2,textAlign:\"center\"},children:steps[currentStep]}),/*#__PURE__*/_jsxs(Box,{sx:{mb:3},children:[/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:progress}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",align:\"right\",sx:{mt:1,color:'text.secondary'},children:[\"\\uC9C4\\uD589 \\uC0C1\\uD669: \",done,\"/\",total]})]}),/*#__PURE__*/_jsx(Section1Component,{name:userName,answers:answers,setAnswers:setAnswers}),error&&/*#__PURE__*/_jsxs(Alert,{severity:\"warning\",sx:{mt:2},children:[/*#__PURE__*/_jsx(AlertTitle,{children:\"\\uACBD\\uACE0\"}),\"\\uBAA8\\uB4E0 \\uBB38\\uD56D\\uC744 \\uC751\\uB2F5\\uD574\\uC57C \\uB2E4\\uC74C\\uC73C\\uB85C \\uB118\\uC5B4\\uAC08 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',mt:4},children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:()=>navigate('/info'),children:\"\\uC774\\uC804\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleNext,children:\"\\uB2E4\\uC74C\"})]})]})]});};export default Section1Page;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","Container","Typography","Box","Paper","Button","Alert","AlertTitle","LinearProgress","Section1Component","saveUserAnswers","jsx","_jsx","jsxs","_jsxs","steps","Section1Page","navigate","state","userName","localStorage","getItem","answers","setAnswers","error","setError","total","done","Object","keys","filter","k","length","progress","currentStep","handleNext","updatedAnswers","name","maxWidth","sx","py","background","bgcolor","children","variant","align","gutterBottom","fontWeight","color","display","justifyContent","mb","map","label","idx","bg","flex","textAlign","width","height","mx","borderRadius","alignItems","mt","elevation","p","value","severity","onClick"],"sources":["C:/Users/20201/OneDrive/바탕 화면/patient_survey/web1/src/page/Section1Page.js"],"sourcesContent":["// React : 사용자 인터페이스를 위한 JavaScript 라이브러리\n// useState : 컴포넌트 상태 관리 - 상태는 컴포넌트가 기억해야하는 동적인 값 - 이값이 변경되면 컴포넌트가 다시 렌더링됨\n// useEffect : 컴포넌트가 렌더링될 때마다 특정 작업을 수행할 수 있도록 해주는 함수\nimport React, { useState, useEffect } from 'react';\n// react-router-dom : react 애플리케이션에서 페이지 이동 및 현재 url정보에 접근하기 위한 라이브러리\nimport { useNavigate, useLocation } from 'react-router-dom';\n// Google이 만든 React UI 프레임워크 컴포넌트들 가져오기기\nimport {\n  Container,\n  Typography,\n  Box,\n  Paper,\n  Button,\n  Alert, AlertTitle, \n  LinearProgress\n} from '@mui/material';\n// 섹션 1 컴포넌트 가져오기\nimport Section1Component from '../component/Section1Component';\n// Firebaseutils파일에서 saveUserAnswers함수 가져오기\nimport { saveUserAnswers } from '../utils/firebaseUtils';\n\nconst steps = [\n  '암 이후 내 몸의 변화',\n  '건강한 삶을 위한 관리',\n  '회복하도록 도와주는 사람들',\n  '심리적 부담',\n  '사회적 삶의 부담',\n  '암 이후 탄력성',\n  '추가'\n];\n// const : 상수 선언 - 선언한 동시에 값을 할당해야 함\n// section1page 함수 정의 \nconst Section1Page = () => {\n  const navigate = useNavigate();\n  // useLocation함수를 호출하여 현재 URL의 location 객체를 가져오고 그안에 있는 state를 가져옴\n  const { state } = useLocation();\n  // ? - 옵셔널 체이닝 : 자바스크립트에서 객체 내부 속성에 접근할 때 중간에 값이 없으면 에러가 발생하지 않고 대신 undefined를 반환하는 안전한 문법 \n  // state객체에 userName이 있으면 그 값을 사용하고 없으면 localStorage에 저장된 userName값을 사용, 둘다 없으면 빈 문자열\n  const userName = state?.userName || localStorage.getItem('userName') || '';\n  // useState함수의 배열 구조 분해 할당 -> [현재 상태 값,해당 상태 값을 업데이트할 수 있는 함수]\n  const [answers, setAnswers] = useState({});\n  const [error, setError] = useState(false);\n\n  const total = 8;  // Q1~Q8\n  // Object.keys : 주어진 객체의 키들만 뽑아서 문자열 배열로 반환하는 자바스크립트 내장 메서드\n  // 사용자가 질문에 대한 답변을 얼마나 했는지 체크하기 위한 변수 - 답변 개수에 따라 길이 동적으로 설정정\n  const done = Object.keys(answers).filter(k => answers[k]).length;\n  const progress = (done / total) * 100;\n  const currentStep = 0;\n  // 다음 버튼 클릭 시 호출되는 함수 \n  const handleNext = async () => {\n    if (done < total) {\n      setError(true);\n      return;\n    }\n    // ...스프레드 연산자 answers객체의 모든 속성을 그대로 복사ㅏ여 updatedAnswers객체에 넣음\n    const updatedAnswers = {\n      ...answers,\n    };\n\n\n    // Firebase에 사용자 답변 저장\n    await saveUserAnswers(userName, updatedAnswers);\n\n    navigate('/section2', { state: { name: userName, answers } });\n  };\n\n  useEffect(() => {\n    if (done === total) setError(false);\n  }, [done]);\n\n  return (\n    <Container maxWidth=\"md\" sx={{ py: 4, background: 'none', bgcolor: 'background.default' }}>\n      {/* 설문 헤더 */}\n      <Typography variant=\"h4\" align=\"center\" gutterBottom sx={{ fontWeight: 'bold' }}>\n        암 생존자 건강관리 설문\n      </Typography>\n      <Typography variant=\"subtitle1\" align=\"center\" color=\"textSecondary\" gutterBottom>\n        여러분의 건강 상태와 일상생활에 대한 것입니다. 아래 내용을 체크해 주세요.\n      </Typography>\n\n      {/* 커스텀 스텝바 */}\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 3 }}>\n        {steps.map((label, idx) => {\n          const bg = idx < currentStep\n            ? 'success.main'\n            : idx === currentStep\n            ? 'primary.main'\n            : 'grey.300';\n          const color = idx <= currentStep ? 'text.primary' : 'text.disabled';\n          return (\n            <Box key={label} sx={{ flex: 1, textAlign: 'center' }}>\n              <Box\n                sx={{\n                  width: 32, height: 32, mx: 'auto',\n                  borderRadius: '50%', bgcolor: bg, color: '#fff',\n                  display: 'flex', alignItems: 'center', justifyContent: 'center'\n                }}\n              >\n                {idx + 1}\n              </Box>\n              <Typography variant=\"caption\" sx={{ mt: 1, color }}>\n                {label}\n              </Typography>\n            </Box>\n          );\n        })}\n      </Box>\n\n      {/* 질문 카드 */}\n      <Paper elevation={3} sx={{ p: 4 }}>\n        {/* 섹션 제목 */}\n        <Typography variant=\"h6\" sx={{ fontWeight: 'bold', mb: 2, textAlign: \"center\" }} >\n          {steps[currentStep]}\n        </Typography>\n\n        {/* 진행바 */}\n        <Box sx={{ mb: 3 }}>\n          <LinearProgress variant=\"determinate\" value={progress} />\n          <Typography variant=\"body2\" align=\"right\" sx={{ mt: 1, color: 'text.secondary' }}>\n            진행 상황: {done}/{total}\n          </Typography>\n        </Box>\n\n        {/* 질문 컴포넌트 */}\n        <Section1Component name={userName}\n          answers={answers}\n          setAnswers={setAnswers}\n        />\n         {/* error가 true일 때만 Alert 보이기 */}\n         {error && (\n          <Alert severity=\"warning\" sx={{ mt: 2 }}>\n            <AlertTitle>경고</AlertTitle>\n            모든 문항을 응답해야 다음으로 넘어갈 수 있습니다.\n          </Alert>\n        )}\n\n        {/* 이전/다음 버튼 */}\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 4 }}>\n          <Button variant=\"outlined\" onClick={() => navigate('/info')}>\n            이전\n          </Button>\n          <Button variant=\"contained\" onClick={handleNext}>\n            다음\n          </Button>\n        </Box>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default Section1Page;\n"],"mappings":"AAAA;AACA;AACA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD;AACA,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D;AACA,OACEC,SAAS,CACTC,UAAU,CACVC,GAAG,CACHC,KAAK,CACLC,MAAM,CACNC,KAAK,CAAEC,UAAU,CACjBC,cAAc,KACT,eAAe,CACtB;AACA,MAAO,CAAAC,iBAAiB,KAAM,gCAAgC,CAC9D;AACA,OAASC,eAAe,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzD,KAAM,CAAAC,KAAK,CAAG,CACZ,cAAc,CACd,cAAc,CACd,gBAAgB,CAChB,QAAQ,CACR,WAAW,CACX,UAAU,CACV,IAAI,CACL,CACD;AACA;AACA,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAC,QAAQ,CAAGlB,WAAW,CAAC,CAAC,CAC9B;AACA,KAAM,CAAEmB,KAAM,CAAC,CAAGlB,WAAW,CAAC,CAAC,CAC/B;AACA;AACA,KAAM,CAAAmB,QAAQ,CAAG,CAAAD,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEC,QAAQ,GAAIC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,EAAI,EAAE,CAC1E;AACA,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAG1B,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC1C,KAAM,CAAC2B,KAAK,CAAEC,QAAQ,CAAC,CAAG5B,QAAQ,CAAC,KAAK,CAAC,CAEzC,KAAM,CAAA6B,KAAK,CAAG,CAAC,CAAG;AAClB;AACA;AACA,KAAM,CAAAC,IAAI,CAAGC,MAAM,CAACC,IAAI,CAACP,OAAO,CAAC,CAACQ,MAAM,CAACC,CAAC,EAAIT,OAAO,CAACS,CAAC,CAAC,CAAC,CAACC,MAAM,CAChE,KAAM,CAAAC,QAAQ,CAAIN,IAAI,CAAGD,KAAK,CAAI,GAAG,CACrC,KAAM,CAAAQ,WAAW,CAAG,CAAC,CACrB;AACA,KAAM,CAAAC,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAIR,IAAI,CAAGD,KAAK,CAAE,CAChBD,QAAQ,CAAC,IAAI,CAAC,CACd,OACF,CACA;AACA,KAAM,CAAAW,cAAc,CAAG,CACrB,GAAGd,OACL,CAAC,CAGD;AACA,KAAM,CAAAZ,eAAe,CAACS,QAAQ,CAAEiB,cAAc,CAAC,CAE/CnB,QAAQ,CAAC,WAAW,CAAE,CAAEC,KAAK,CAAE,CAAEmB,IAAI,CAAElB,QAAQ,CAAEG,OAAQ,CAAE,CAAC,CAAC,CAC/D,CAAC,CAEDxB,SAAS,CAAC,IAAM,CACd,GAAI6B,IAAI,GAAKD,KAAK,CAAED,QAAQ,CAAC,KAAK,CAAC,CACrC,CAAC,CAAE,CAACE,IAAI,CAAC,CAAC,CAEV,mBACEb,KAAA,CAACb,SAAS,EAACqC,QAAQ,CAAC,IAAI,CAACC,EAAE,CAAE,CAAEC,EAAE,CAAE,CAAC,CAAEC,UAAU,CAAE,MAAM,CAAEC,OAAO,CAAE,oBAAqB,CAAE,CAAAC,QAAA,eAExF/B,IAAA,CAACV,UAAU,EAAC0C,OAAO,CAAC,IAAI,CAACC,KAAK,CAAC,QAAQ,CAACC,YAAY,MAACP,EAAE,CAAE,CAAEQ,UAAU,CAAE,MAAO,CAAE,CAAAJ,QAAA,CAAC,iEAEjF,CAAY,CAAC,cACb/B,IAAA,CAACV,UAAU,EAAC0C,OAAO,CAAC,WAAW,CAACC,KAAK,CAAC,QAAQ,CAACG,KAAK,CAAC,eAAe,CAACF,YAAY,MAAAH,QAAA,CAAC,uMAElF,CAAY,CAAC,cAGb/B,IAAA,CAACT,GAAG,EAACoC,EAAE,CAAE,CAAEU,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAe,CAAEC,EAAE,CAAE,CAAE,CAAE,CAAAR,QAAA,CAClE5B,KAAK,CAACqC,GAAG,CAAC,CAACC,KAAK,CAAEC,GAAG,GAAK,CACzB,KAAM,CAAAC,EAAE,CAAGD,GAAG,CAAGpB,WAAW,CACxB,cAAc,CACdoB,GAAG,GAAKpB,WAAW,CACnB,cAAc,CACd,UAAU,CACd,KAAM,CAAAc,KAAK,CAAGM,GAAG,EAAIpB,WAAW,CAAG,cAAc,CAAG,eAAe,CACnE,mBACEpB,KAAA,CAACX,GAAG,EAAaoC,EAAE,CAAE,CAAEiB,IAAI,CAAE,CAAC,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAd,QAAA,eACpD/B,IAAA,CAACT,GAAG,EACFoC,EAAE,CAAE,CACFmB,KAAK,CAAE,EAAE,CAAEC,MAAM,CAAE,EAAE,CAAEC,EAAE,CAAE,MAAM,CACjCC,YAAY,CAAE,KAAK,CAAEnB,OAAO,CAAEa,EAAE,CAAEP,KAAK,CAAE,MAAM,CAC/CC,OAAO,CAAE,MAAM,CAAEa,UAAU,CAAE,QAAQ,CAAEZ,cAAc,CAAE,QACzD,CAAE,CAAAP,QAAA,CAEDW,GAAG,CAAG,CAAC,CACL,CAAC,cACN1C,IAAA,CAACV,UAAU,EAAC0C,OAAO,CAAC,SAAS,CAACL,EAAE,CAAE,CAAEwB,EAAE,CAAE,CAAC,CAAEf,KAAM,CAAE,CAAAL,QAAA,CAChDU,KAAK,CACI,CAAC,GAZLA,KAaL,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,cAGNvC,KAAA,CAACV,KAAK,EAAC4D,SAAS,CAAE,CAAE,CAACzB,EAAE,CAAE,CAAE0B,CAAC,CAAE,CAAE,CAAE,CAAAtB,QAAA,eAEhC/B,IAAA,CAACV,UAAU,EAAC0C,OAAO,CAAC,IAAI,CAACL,EAAE,CAAE,CAAEQ,UAAU,CAAE,MAAM,CAAEI,EAAE,CAAE,CAAC,CAAEM,SAAS,CAAE,QAAS,CAAE,CAAAd,QAAA,CAC7E5B,KAAK,CAACmB,WAAW,CAAC,CACT,CAAC,cAGbpB,KAAA,CAACX,GAAG,EAACoC,EAAE,CAAE,CAAEY,EAAE,CAAE,CAAE,CAAE,CAAAR,QAAA,eACjB/B,IAAA,CAACJ,cAAc,EAACoC,OAAO,CAAC,aAAa,CAACsB,KAAK,CAAEjC,QAAS,CAAE,CAAC,cACzDnB,KAAA,CAACZ,UAAU,EAAC0C,OAAO,CAAC,OAAO,CAACC,KAAK,CAAC,OAAO,CAACN,EAAE,CAAE,CAAEwB,EAAE,CAAE,CAAC,CAAEf,KAAK,CAAE,gBAAiB,CAAE,CAAAL,QAAA,EAAC,6BACzE,CAAChB,IAAI,CAAC,GAAC,CAACD,KAAK,EACV,CAAC,EACV,CAAC,cAGNd,IAAA,CAACH,iBAAiB,EAAC4B,IAAI,CAAElB,QAAS,CAChCG,OAAO,CAAEA,OAAQ,CACjBC,UAAU,CAAEA,UAAW,CACxB,CAAC,CAEAC,KAAK,eACLV,KAAA,CAACR,KAAK,EAAC6D,QAAQ,CAAC,SAAS,CAAC5B,EAAE,CAAE,CAAEwB,EAAE,CAAE,CAAE,CAAE,CAAApB,QAAA,eACtC/B,IAAA,CAACL,UAAU,EAAAoC,QAAA,CAAC,cAAE,CAAY,CAAC,wIAE7B,EAAO,CACR,cAGD7B,KAAA,CAACX,GAAG,EAACoC,EAAE,CAAE,CAAEU,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAe,CAAEa,EAAE,CAAE,CAAE,CAAE,CAAApB,QAAA,eACnE/B,IAAA,CAACP,MAAM,EAACuC,OAAO,CAAC,UAAU,CAACwB,OAAO,CAAEA,CAAA,GAAMnD,QAAQ,CAAC,OAAO,CAAE,CAAA0B,QAAA,CAAC,cAE7D,CAAQ,CAAC,cACT/B,IAAA,CAACP,MAAM,EAACuC,OAAO,CAAC,WAAW,CAACwB,OAAO,CAAEjC,UAAW,CAAAQ,QAAA,CAAC,cAEjD,CAAQ,CAAC,EACN,CAAC,EACD,CAAC,EACC,CAAC,CAEhB,CAAC,CAED,cAAe,CAAA3B,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}