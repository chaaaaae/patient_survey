{"ast":null,"code":"// src/components/Section7Component.js\n// Section7: 추가 섹션 (절주, 금연) 질문\nimport React,{useEffect}from'react';import{Box,FormControl,FormLabel,RadioGroup,FormControlLabel,Radio}from'@mui/material';import{saveUserAnswers}from'../utils/firebaseUtils';// Firestore 저장 함수 import\n// props에 name 추가\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Section7Component=_ref=>{let{name,answers,setAnswers}=_ref;// answers 변경 시마다 Firestore에 저장\nuseEffect(()=>{console.log('Section7Component useEffect – name:',name,'answers:',answers);if(!name){console.log('useEffect aborted – no name provided');return;}saveUserAnswers(name,answers).then(()=>console.log(`Saved Section7 answers for ${name}`)).catch(err=>console.error('Error saving Section7 answers:',err));},[answers,name]);const questions=[{id:'q32',label:'암 발병 이후, 절주 하고 있다.'},{id:'q33',label:'암 발병 이후, 금연 하고 있다.'}];const options=[{value:'1',label:'전혀 그렇지 않다'},{value:'2',label:'약간 그렇지 않다'},{value:'3',label:'보통이다'},{value:'4',label:'약간 그렇다'},{value:'5',label:'매우 그렇다'}];const handleChange=e=>{const{name:questionId,value}=e.target;setAnswers(prev=>({...prev,[questionId]:value}));};return/*#__PURE__*/_jsx(Box,{children:questions.map(q=>/*#__PURE__*/_jsxs(FormControl,{component:\"fieldset\",sx:{mb:2},fullWidth:true,children:[/*#__PURE__*/_jsx(FormLabel,{component:\"legend\",sx:{fontWeight:'bold',color:'primary.main'},children:q.label}),/*#__PURE__*/_jsx(RadioGroup,{name:q.id,value:answers[q.id]||'',onChange:handleChange,children:options.map(opt=>/*#__PURE__*/_jsx(FormControlLabel,{value:opt.value,control:/*#__PURE__*/_jsx(Radio,{color:\"primary\"}),label:opt.label},opt.value))})]},q.id))});};export default Section7Component;","map":{"version":3,"names":["React","useEffect","Box","FormControl","FormLabel","RadioGroup","FormControlLabel","Radio","saveUserAnswers","jsx","_jsx","jsxs","_jsxs","Section7Component","_ref","name","answers","setAnswers","console","log","then","catch","err","error","questions","id","label","options","value","handleChange","e","questionId","target","prev","children","map","q","component","sx","mb","fullWidth","fontWeight","color","onChange","opt","control"],"sources":["C:/Users/20201/OneDrive/바탕 화면/patient_survey/web1/src/component/Section7Component.js"],"sourcesContent":["// src/components/Section7Component.js\n// Section7: 추가 섹션 (절주, 금연) 질문\n\nimport React, { useEffect } from 'react';\nimport {\n  Box,\n  FormControl,\n  FormLabel,\n  RadioGroup,\n  FormControlLabel,\n  Radio\n} from '@mui/material';\nimport { saveUserAnswers } from '../utils/firebaseUtils';  // Firestore 저장 함수 import\n\n// props에 name 추가\nconst Section7Component = ({ name, answers, setAnswers }) => {\n  // answers 변경 시마다 Firestore에 저장\n  useEffect(() => {\n    console.log('Section7Component useEffect – name:', name, 'answers:', answers);\n    if (!name) {\n      console.log('useEffect aborted – no name provided');\n      return;\n    }\n    saveUserAnswers(name, answers)\n      .then(() => console.log(`Saved Section7 answers for ${name}`))\n      .catch(err => console.error('Error saving Section7 answers:', err));\n  }, [answers, name]);\n\n  const questions = [\n    { id: 'q32', label: '암 발병 이후, 절주 하고 있다.' },\n    { id: 'q33', label: '암 발병 이후, 금연 하고 있다.' }\n  ];\n\n  const options = [\n    { value: '1', label: '전혀 그렇지 않다' },\n    { value: '2', label: '약간 그렇지 않다' },\n    { value: '3', label: '보통이다' },\n    { value: '4', label: '약간 그렇다' },\n    { value: '5', label: '매우 그렇다' }\n  ];\n\n  const handleChange = (e) => {\n    const { name: questionId, value } = e.target;\n    setAnswers(prev => ({ ...prev, [questionId]: value }));\n  };\n\n  return (\n    <Box>\n      {questions.map((q) => (\n        <FormControl component=\"fieldset\" key={q.id} sx={{ mb: 2 }} fullWidth>\n          <FormLabel\n            component=\"legend\"\n            sx={{ fontWeight: 'bold', color: 'primary.main' }}\n          >\n            {q.label}\n          </FormLabel>\n          <RadioGroup\n            name={q.id}\n            value={answers[q.id] || ''}\n            onChange={handleChange}\n          >\n            {options.map((opt) => (\n              <FormControlLabel\n                key={opt.value}\n                value={opt.value}\n                control={<Radio color=\"primary\" />}\n                label={opt.label}\n              />\n            ))}\n          </RadioGroup>\n        </FormControl>\n      ))}\n    </Box>\n  );\n};\n\nexport default Section7Component;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}