{"ast":null,"code":"// src/pages/Section5Page.js\nimport React,{useState,useEffect}from'react';import{useNavigate,useLocation}from'react-router-dom';import{Container,Typography,Box,Paper,Button,Alert,AlertTitle,LinearProgress}from'@mui/material';import Section5Component from'../component/Section5Component';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const steps=['암 이후 내 몸의 변화','건강한 삶을 위한 관리','회복하도록 도와주는 사람들','심리적 부담','사회적 삶의 부담','암 이후 탄력성','추가'];const Section5Page=()=>{const navigate=useNavigate();const{state}=useLocation();const userName=(state===null||state===void 0?void 0:state.name)||localStorage.getItem('userName')||'';const fromSkip=(state===null||state===void 0?void 0:state.fromSkip)||false;const[answers,setAnswers]=useState({});const[error,setError]=useState(false);const total=3;// Q26~Q28\nconst done=['q26','q27','q28'].filter(id=>answers[id]).length;const progress=done/total*100;const currentStep=4;const handleNext=()=>{if(done<total){setError(true);return;}navigate('/section6',{state:{name:userName,answers}});};useEffect(()=>{if(done===total)setError(false);},[done,total]);return/*#__PURE__*/_jsxs(Container,{maxWidth:\"md\",sx:{py:4,background:'none',bgcolor:'background.default'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",align:\"center\",gutterBottom:true,sx:{fontWeight:'bold'},children:\"\\uC554 \\uC0DD\\uC874\\uC790 \\uAC74\\uAC15\\uAD00\\uB9AC \\uC124\\uBB38\"}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",align:\"center\",color:\"textSecondary\",gutterBottom:true,children:\"\\uC5EC\\uB7EC\\uBD84\\uC758 \\uAC74\\uAC15 \\uC0C1\\uD0DC\\uC640 \\uC77C\\uC0C1\\uC0DD\\uD65C\\uC5D0 \\uB300\\uD55C \\uAC83\\uC785\\uB2C8\\uB2E4. \\uC544\\uB798 \\uB0B4\\uC6A9\\uC744 \\uCCB4\\uD06C\\uD574 \\uC8FC\\uC138\\uC694.\"}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'space-between',mb:3},children:steps.map((label,idx)=>{const bg=idx<currentStep?'success.main':idx===currentStep?'primary.main':'grey.300';const color=idx<=currentStep?'text.primary':'text.disabled';return/*#__PURE__*/_jsxs(Box,{sx:{flex:1,textAlign:'center'},children:[/*#__PURE__*/_jsx(Box,{sx:{width:32,height:32,mx:'auto',borderRadius:'50%',bgcolor:bg,color:'#fff',display:'flex',alignItems:'center',justifyContent:'center'},children:idx+1}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{mt:1,color},children:label})]},label);})}),/*#__PURE__*/_jsxs(Paper,{sx:{p:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{fontWeight:'bold',mb:2,textAlign:'center'},children:steps[currentStep]}),/*#__PURE__*/_jsxs(Box,{sx:{mb:2},children:[/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:progress}),/*#__PURE__*/_jsxs(Typography,{align:\"right\",variant:\"body2\",children:[done,\"/\",total]})]}),/*#__PURE__*/_jsx(Section5Component,{name:userName,answers:answers,setAnswers:setAnswers}),error&&/*#__PURE__*/_jsxs(Alert,{severity:\"warning\",sx:{mt:2},children:[/*#__PURE__*/_jsx(AlertTitle,{children:\"\\uACBD\\uACE0\"}),\"\\uBAA8\\uB4E0 \\uBB38\\uD56D\\uC744 \\uC751\\uB2F5\\uD574\\uC57C \\uB2E4\\uC74C\\uC73C\\uB85C \\uB118\\uC5B4\\uAC08 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',mt:4},children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:()=>navigate(fromSkip?'/section2':'/section4',{state:{name:userName}}),children:\"\\uC774\\uC804\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleNext,children:\"\\uB2E4\\uC74C\"})]})]})]});};export default Section5Page;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","Container","Typography","Box","Paper","Button","Alert","AlertTitle","LinearProgress","Section5Component","jsx","_jsx","jsxs","_jsxs","steps","Section5Page","navigate","state","userName","name","localStorage","getItem","fromSkip","answers","setAnswers","error","setError","total","done","filter","id","length","progress","currentStep","handleNext","maxWidth","sx","py","background","bgcolor","children","variant","align","gutterBottom","fontWeight","color","display","justifyContent","mb","map","label","idx","bg","flex","textAlign","width","height","mx","borderRadius","alignItems","mt","p","value","severity","onClick"],"sources":["C:/Users/20201/OneDrive/바탕 화면/patient_survey/web1/src/page/Section5Page.js"],"sourcesContent":["// src/pages/Section5Page.js\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport {\n  Container,\n  Typography,\n  Box,\n  Paper,\n  Button,\n  Alert, AlertTitle,\n  LinearProgress\n} from '@mui/material';\nimport Section5Component from '../component/Section5Component';\n\nconst steps = [\n  '암 이후 내 몸의 변화',\n  '건강한 삶을 위한 관리',\n  '회복하도록 도와주는 사람들',\n  '심리적 부담',\n  '사회적 삶의 부담',\n  '암 이후 탄력성',\n  '추가'\n];\n\nconst Section5Page = () => {\n  const navigate = useNavigate();\n  const { state } = useLocation();\n  const userName = state?.name || localStorage.getItem('userName') || '';\n  const fromSkip = state?.fromSkip || false;\n\n  const [answers, setAnswers] = useState({});\n  const [error, setError] = useState(false);\n\n  const total = 3;  // Q26~Q28\n  const done = ['q26', 'q27', 'q28'].filter((id) => answers[id]).length;\n  const progress = (done / total) * 100;\n  const currentStep = 4;\n\n  const handleNext = () => {\n    if (done < total) {\n      setError(true);\n      return;\n    }\n    navigate('/section6', { state: { name: userName, answers } });\n  };\n\n  useEffect(() => {\n    if (done === total) setError(false);\n  }, [done, total]);\n\n  return (\n    <Container maxWidth=\"md\" sx={{ py: 4, background: 'none', bgcolor: 'background.default' }}>\n          <Typography variant=\"h4\" align=\"center\" gutterBottom sx={{ fontWeight: 'bold' }}>\n            암 생존자 건강관리 설문\n          </Typography>\n          <Typography variant=\"subtitle1\" align=\"center\" color=\"textSecondary\" gutterBottom>\n            여러분의 건강 상태와 일상생활에 대한 것입니다. 아래 내용을 체크해 주세요.\n          </Typography>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 3 }}>\n        {steps.map((label, idx) => {\n          const bg = idx < currentStep\n            ? 'success.main'\n            : idx === currentStep\n            ? 'primary.main'\n            : 'grey.300';\n          const color = idx <= currentStep ? 'text.primary' : 'text.disabled';\n          return (\n            <Box key={label} sx={{ flex: 1, textAlign: 'center' }}>\n              <Box\n                sx={{\n                  width: 32,\n                  height: 32,\n                  mx: 'auto',\n                  borderRadius: '50%',\n                  bgcolor: bg,\n                  color: '#fff',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center'\n                }}\n              >\n                {idx + 1}\n              </Box>\n              <Typography variant=\"caption\" sx={{ mt: 1, color }}>\n                {label}\n              </Typography>\n            </Box>\n          );\n        })}\n      </Box>\n\n      <Paper sx={{ p: 4 }}>\n        <Typography variant=\"h6\" sx={{ fontWeight: 'bold', mb: 2, textAlign: 'center' }}>\n                  {steps[currentStep]}\n                </Typography>\n        <Box sx={{ mb: 2 }}>\n          <LinearProgress variant=\"determinate\" value={progress} />\n          <Typography align=\"right\" variant=\"body2\">{done}/{total}</Typography>\n        </Box>\n\n        <Section5Component\n          name={userName}\n          answers={answers}\n          setAnswers={setAnswers}\n        />\n\n        {error && (\n          <Alert severity=\"warning\" sx={{ mt: 2 }}>\n            <AlertTitle>경고</AlertTitle>\n            모든 문항을 응답해야 다음으로 넘어갈 수 있습니다.\n          </Alert>\n        )}\n\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 4 }}>\n          <Button\n            variant=\"outlined\"\n            onClick={() =>\n              navigate(\n                fromSkip ? '/section2' : '/section4',\n                { state: { name: userName } }\n              )\n            }\n          >\n            이전\n          </Button>\n          <Button variant=\"contained\" onClick={handleNext}>\n            다음\n          </Button>\n        </Box>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default Section5Page;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}